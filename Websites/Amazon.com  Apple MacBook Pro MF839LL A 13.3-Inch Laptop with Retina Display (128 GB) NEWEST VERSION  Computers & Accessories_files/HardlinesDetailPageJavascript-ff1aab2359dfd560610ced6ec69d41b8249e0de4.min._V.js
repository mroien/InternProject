(function(h){h.execute(function(){h.when("A","jQuery","atf").register("accordionBuyBoxJS",function(b,a){var c={updateCssClass:function(c){var b=a("#rbbContainer");b.find(".selected .a-icon-radio-active").removeClass("a-icon-radio-active").addClass("a-icon-radio-inactive");b.find(".selected .offer-price").removeClass("a-color-price").addClass("a-color-secondary");c.parents(".rbbSection").removeClass("unselected").addClass("selected");c.parents(".rbbSection").toggleClass("dp-accordion-active",500);
c.find(".a-icon-radio-inactive").removeClass("a-icon-radio-inactive").addClass("a-icon-radio-active");c.find(".offer-price").removeClass("a-color-secondary").addClass("a-color-price");a("#rbbContainer .rbbSection .rbbContent").find(".offer-price").removeClass("a-color-secondary").addClass("a-color-price")},animate:function(c){var b=a("#rbbContainer"),l=c.attr("id"),g,f;b.find(".rbbSection").each(function(c,b){a(b).find(".rbbHeader")[0].id==l?g=a(b):a(b).hasClass("selected")&&(f=a(b))});f.find(".rbbContent").slideUp(500,
function(){f.removeClass("selected").addClass("unselected");f.toggleClass("dp-accordion-active",500)});g.find(".rbbContent").slideDown(500);a.browser.msie&&parseInt(a.browser.version,10)==7&&(g.find(".rbbContent").css("display","inline"),setTimeout(function(){g.find(".rbbContent").css("display","block")},505))},oneClickJS:function(){a("#one-click-button, #one-click-button-ubb").click(function(){var b="https://"+window.location.host+a("#addToCart").attr("action");a("#addToCart").attr("action",b);return!0})},
usedBuyBoxJS:function(){a("#one-click-button-ubb, #usedbuyBox #add-to-cart-button-ubb").click(function(){var b=a("#addToCart"),c=b.attr("action").replace("ref=dp_start-bbf_1_glance","ref=dp_start-ubbf_1_glance");b.attr("action",c);return!0});amznJQ.available("popover",function(){a("#usedItemConditionInfoLink").amazonPopoverTrigger({showCloseButton:!1,closeEventInclude:["CLICK_TRIGGER","CLICK_OUTSIDE","MOUSE_LEAVE"],locationElement:a("#usedItemConditionInfoLink"),location:"bottom",width:250,localContent:"#usedItemConditionInfoPopover"})})},
initialize:function(){a(".rbbHeaderLink").attr("href","javascript:void(0);");a("#rbbContainer .rbbSection.unselected .dp-accordion-inner").hide();a("#rbbContainer .rbbSection .rbbHeader").click(function(b){a(b.target);b=a(this);b=b.hasClass("rbbHeader")?b:b.parents(".rbbHeader");if(b.parents(".rbbSection").hasClass("selected"))return!1;c.updateCssClass(b);a("#abbWrapper [id^=mbb-offeringID-]").each(function(){this.checked=!1});b=a(this);c.animate(b);return!0});c.oneClickJS();c.usedBuyBoxJS()}};return c});
h.when("A","jQuery","a-dropdown").execute(function(b,a,c){function e(a){return a?a.replace(/&#0/g,"&#"):undef}function d(a){for(var b=a.getOptions(),b=b?b.size():0,c=1;c<b;c++)a.removeOption(1)}function i(b,c){var f=b.getOption(0),l=f.info()[0];f.remove();a.each(c,function(a,c){b.addOption({text:q[e(c)],value:c,css_class:"dropdownAvailable"},1)});b.addOption(l,0);b.val(l.value)}function g(a){n=a.value;d(p);n!=="-1"&&(f(),i(p,Object.keys(r[e(n)])))}function f(){if(!Object.keys)Object.keys=function(){var a=
Object.prototype.hasOwnProperty,b=!{toString:null}.propertyIsEnumerable("toString"),c="toString,toLocaleString,valueOf,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,constructor".split(","),f=c.length;return function(e){if(typeof e!=="object"&&(typeof e!=="function"||e===null))throw new TypeError("Object.keys called on non-object");var l=[],d;for(d in e)a.call(e,d)&&l.push(d);if(b)for(d=0;d<f;d++)a.call(e,c[d])&&l.push(c[d]);return l}}()}function s(a){k=a.value;if(!(k==="-1"||n==="-1"))window.location=
h[r[e(n)][e(k)]]}function t(a){a=a.value;if(a!=="-1")window.location=h[e(a)]}var r,j=b.state("dcdMetaData");if(j){var h=j.asinToDetailPageURLMap,q=j.truncatedValuesMap,m=j.dimensionKeys,o=m[0],n=-1,k=-1,p;m.length===2?(r=j.doubleValuesToAsinMap,j=m[1],m=c.getSelect("native_dcd_dropdown_"+o),p=c.getSelect("native_dcd_dropdown_"+j),m.setValue("-1"),p.setValue("-1"),d(p),b.on("a:dropdown:selected:"+o,g),b.on("a:dropdown:selected:"+j,s)):(m=c.getSelect("native_dcd_dropdown_"+o),(c=j.selectedAsin)?m.setValue(c):
m.setValue("-1"),b.on("a:dropdown:selected:asin-redirect",t))}});h.when("A","jQuery").register("product-description-fix",function(b,a){return{fixTableIssue:function(){a("#productDescription .productDescriptionWrapper table").each(function(){var b=a(this).attr("width");typeof b!=="undefined"?a(this).css("width",b):a(this).css("width","auto")})}}});var c=window.finders?window.finders:{};amznJQ.available("jQuery",function(){jQuery.extend(c,{clearElement:function(b){b=b.jquery?b[0]:b;b.disabled=!0;b.options.length=
1},getNodeId:function(b){var a=jQuery(jQuery.map(c.data.itemElems,function(a){return"#"+a}).join(",")).map(function(){return jQuery(this).val()}).get();b||(b=jQuery.inArray("",a),b>=0&&(a=a.slice(0,b)));return a},getItemElements:function(){return jQuery(jQuery.map(c.data.itemElems,function(b){return"#"+b}).join(","))},getModelsElement:function(){return jQuery("#"+c.data.modelsElem)},showDeviceFinder:function(){c.state.showing="finder";jQuery("#findDevicePanel").removeClass("showing-found-device");
jQuery("#finderItFitsWidget").removeClass("showing-my-devices").addClass("showing-finder")},showFoundDevice:function(){c.state.showing="found-device";jQuery("#findDevicePanel").addClass("showing-found-device");jQuery("#finderItFitsWidget").removeClass("showing-my-devices").addClass("showing-finder")},showMyDevices:function(){c.state.showing="my-devices";jQuery("#finderItFitsWidget").removeClass("showing-finder").addClass("showing-my-devices")},enableGoButton:function(){var b=c.getModelsElement().val(),
a=jQuery("#finderUpdateButton");b==0?(a.addClass("disabled"),a[0].disabled=!0):(a.removeClass("disabled"),a[0].disabled=!1)},onModelsChange:function(){c.enableGoButton()},loadModels:function(b){var a=c.getModelsElement();c.clearElement(a);b&&jQuery.getJSON("/gp/finders/ajax/finderajax.html",{action:"getLeafNodes",finderId:c.data.id,nodeId:b.join("^"),PowerBar:0},function(b){if(b&&b.length!==void 0){var c=[];c.push(a[0].innerHTML);for(var d=0;d<b.length;d++)c.push('<option value="'+b[d].replace(/&/g,
"&amp;")+'"'),c.push(">"+b[d]+"</option>");a[0].disabled=!1;jQuery.browser.msie?(a[0].options.length=0,b=a[0].outerHTML,b=b.match(/(.+?)>.*<\/select>/i)[1],a[0].outerHTML=b+' onchange="finders.onModelsChange(this)">'+c.join("")+"</select>"):a[0].innerHTML=c.join("")}})},onDropDownChange:function(b){c.userAction=!0;var a=c.getItemElements(),b=jQuery.inArray(b.id,c.data.itemElems);if(b!=-1){a.slice(b+1).each(function(){c.clearElement(this)});var l=!1,e=c.getNodeId();e.length==a.length&&(l=!0);if(b+
1<a.length&&e.length>0){var d=a.eq(b+1);jQuery.getJSON("/gp/finders/ajax/finderajax.html",{action:"getAttrNodes",finderId:c.data.id,nodeId:e.join("^"),PowerBar:0},function(a){if(a.length!==void 0)if(a.length>0){d[0].disabled=!1;for(var b=0;b<a.length;b++)jQuery('<option value="'+a[b].replace(/&/g,"&amp;")+'">'+a[b]+"</option>").appendTo(d)}else e.push(""),c.loadModels(e)})}c.loadModels(l?e:null);c.enableGoButton()}},renderDeviceMatch:function(b){var a=jQuery('<div class="finder-device-match"></div>').append(b.image).append(jQuery("<div></div>").append(b.title));
b.finderLink&&a.append(jQuery('<div class="finder-carat-link"></div>').append(b.finderLink));a.append('<div class="finders-clearfix">&nbsp;</div>');return a},updateFoundModel:function(b,a){b=b||c.getModelsElement().val();a=a||c.getNodeId(!0);c.state.selectedModel=b;c.state.nodeId=a;if(b!=0)c.loadingDeviceElem===void 0?c.loadingDeviceElem=jQuery("#loadingDevicePanel"):(jQuery("#foundPanel .finder-device-match").remove(),jQuery("#foundPanel").prepend(c.loadingDeviceElem)),c.showFoundDevice(),a.push(b),
jQuery.getJSON("/gp/finders/ajax/finderajax.html",{action:"getDeviceMatch",finderId:c.data.id,supplyASIN:c.data.supply,nodeId:a.join("^"),PowerBar:0},function(a){jQuery("#loadingDevicePanel").remove();a&&a.length&&c.renderDeviceMatch(a[0]).prependTo(jQuery("#foundPanel"))})},updateMyDevices:function(){if(c.data.myDevices.length>0){for(var b=[],a=0;a<c.data.myDevices.length;a++)b.push(c.data.myDevices[a].asin+";"+c.data.myDevices[a].id);jQuery.get("/gp/finders/ajax/finderajax.html",{action:"getMyDevicesMatches",
finderId:c.data.id,supplyASIN:c.data.supply,myDevices:b.join(":"),PowerBar:0},function(a){if(a&&a.length){a.sort(function(a,b){return a.isCompatible!=b.isCompatible?a.isCompatible=="1"?-1:1:-1});for(var b=jQuery("#finderMyDevicesPanel .finder-scroll-panel").empty(),d=0;d<a.length;d++){var i=c.renderDeviceMatch(a[d]).appendTo(b);d>0&&i.addClass("finder-secondary-device")}}},"json")}},init:function(b){typeof b==="string"&&(b=eval("("+b+")"));c.data=b;c.userAction=!1;jQuery(".finder-dd").each(function(){this.disabled=
this.options.length===1});c.state?c.state.showing=="found-device"?c.updateFoundModel(c.state.selectedModel,c.state.nodeId):c.state.showing=="finder"?c.showDeviceFinder():c.state.showing=="my-devices"&&c.showMyDevices():c.state={};c.updateMyDevices();b=function(){c.userAction||jQuery(".finder-dd").each(function(){jQuery(this).val("")})};b();jQuery(window).load(b);c.enableGoButton();c.getItemElements().bind("change",function(){c.onDropDownChange(this)});c.getModelsElement().bind("change",function(){c.onModelsChange(this)});
jQuery("#finderUpdateButton").bind("click",function(){c.updateFoundModel();return!1});jQuery(".finder-find-device-link").bind("click",function(){c.showDeviceFinder();return!1});jQuery("#finderShowMyDevicesLink").bind("click",function(){c.showMyDevices();return!1});jQuery("#finderShowMoreDevicesLink").bind("click",function(){jQuery("#finderMyDevicesPanel").addClass("show-more-devices");return!1});jQuery("#finderHideMoreDevicesLink").bind("click",function(){jQuery("#finderMyDevicesPanel").removeClass("show-more-devices");
return!1})}});amznJQ&&amznJQ.declareAvailable&&amznJQ.declareAvailable("finderFitsJS")});h.when("A","jQuery","atf").execute(function(b,a){b.on.ready(function(){function c(b,d,e,g,j){a(b).slideToggle(300);a(d).slideToggle(300);a(e).toggleClass("tmmShowPrompt tmmHidePrompt");a(g).toggleClass("tmmShowPrompt tmmHidePrompt");a(j).toggleClass("rotate")}function e(b){b.position();b.width();a(".swatchElement");b.find(".swatchElement").each(function(){a(this).attr("data-width",a(this).width())});a("#formats").find(".a-row").removeClass("nonJSFormats")}
function d(){var b=a("#formats"),c=b.width()-40,d=0;b.find(".swatchElement").each(function(){a(this).is(":visible")&&(d+=a(this).width())});d>c?a(b.find(".swatchElement:visible").get().reverse()).each(function(){var b=0,f=!1;a(this).find(".format").hasClass("a-button-selected")?(b=a(this).prev(".swatchElement").width(),f=a(this).prev(".swatchElement").is(":hidden"),a(this).prev(".swatchElement").hide()):(b=a(this).width(),f=a(this).is(":hidden"),a(this).hide());f||(d-=b);return d>c}):d<c&&b.find(".swatchElement").each(function(){if(a(this).is(":hidden"))return a(this).attr("data-width")<=
c-d&&a(this).show(),!1})}var i=0,g;amznJQ.available("DPClientLogger",function(){typeof window.DPClientLogger!="undefined"&&(g=new window.DPClientLogger.ImpressionLogger("dpbxapps","bxapps-atfMarker",!0,!0))});b.declarative("tmm-see-more-editions-click",["click"],function(d){var e=d.data,g=e.metabindingUrl;if(!d.$target.hasClass("a-link-expander")&&!d.$target.parent().hasClass("a-link-expander")){if(g!=="#")window.location=g}else{var e=e.metabindingPlaceHolder,i="#metabinding_row_top_"+e,j="#metabinding_row_bottom_"+
e,h="#editionsSeePrompt_"+e,q="#editionsHidePrompt_"+e,m="#editionsIcon_"+e,o="isAjaxComplete_"+e,n="isAjaxInProgress_"+e,d="#tmmSpinnerDiv_"+e,k=b.state("mediamatrix-state"),e=k["url_"+e].replace(/&amp;/g,"&");a("#formats .tmmErrorClass").hide();k[o]==="1"||k[n]==="1"?c(i,j,h,q,m):(b.ajax(e,{method:"get",success:function(){k[o]="1";b.state("mediamatrix-state",k);c(i,j,h,q,m)},indicator:a(d),error:function(){a($tmmErrorDiv).show();k[n]="0";b.state("mediamatrix-state",k)}}),k[n]="1",b.state("mediamatrix-state",
k))}});a("#formats > .a-link-expander").click(function(){c("#tmmSwatches","#twister","#showMoreFormatsPrompt","#hideMoreFormatsPrompt","#formatsIcon");g&&a("#twister").is(":visible")&&!i&&(g.logImpression("tmm-show-more-formats-viewed"),i=1)});a("#formats.responsive").each(function(){e(a(this))});d();b.on("resize",d);a("#formats .unselected .format").mouseenter(function(){a(this).find(".a-color-secondary").addClass("a-color-price").removeClass("a-color-secondary")}).mouseleave(function(){a(this).find(".a-color-price").addClass("a-color-secondary").removeClass("a-color-price")});
a("#landingItemRentalLink").attr("href","javascript:document.getElementById('rentBuySection').click();")})});h.when("A","jQuery","atf").execute(function(b,a){function c(){var b=parseInt(a("#byline").width()),d=0;a("#byline .author").each(function(){a(this).is(".notFaded")&&(d+=a(this).outerWidth())});d+=a("#byline .more").outerWidth();if(d>b){var i=a("#byline .author.notFaded").length;a(a("#byline .author.notFaded").get().reverse()).each(function(c){d>b&&c<i-1&&(c=a(this).width(),a(this).removeClass("notFaded"),
a(this).fadeOut(10,function(){a(this).hide()}),d-=c,a("#byline .moreCount").html(a("#byline .author").length-a("#byline .author.notFaded").length),a("#byline .more").addClass("notFaded").fadeIn(10))})}else if(d<b&&a("#byline .author.notFaded").length<a("#byline .author").length){var g=b-d;a("#byline .author").each(function(){if(!a(this).hasClass("notFaded")){var b=a(this).outerWidth();b<=g?(g-=b,a(this).addClass("notFaded").fadeIn(10),b=a("#byline .author").length-a("#byline .author.notFaded").length,
b===0?a("#byline .more").removeClass("notFaded").fadeOut(10):(a("#byline .moreCount").html(b),a("#byline .more").addClass("notFaded").fadeIn(10))):g=0}})}}a("#byline .showMoreLink").click(function(){a("#byline .author").each(function(){a(this).hasClass("notFaded")||a(this).addClass("notFaded").fadeIn(0);a("#byline .more").removeClass("notFaded").fadeOut(0)});return!1});a("#byline .contributorNameID").mouseenter(function(){var c=a(this).attr("data-asin"),d={},i="isAjaxComplete_"+c,g="isAjaxInProgress_"+
c,f=b.state("popoverImage-state");d.entityID=c;f[i]!=="1"&&f[g]!=="1"&&(a.ajax({url:"/gp/product/utility/by-line/book-contributor-details/ajax/author-image.html",data:d,dataType:"html",timeout:1E3,success:function(d){a("#contributorImageContainer"+c).get(0).innerHTML=d;f[i]="1";b.state("popoverImage-state",f)},error:function(){f[g]="0";b.state("popoverImage-state",f)}}),f[g]="1",b.state("popoverImage-state",f))});(function(b){var c=parseInt(b.width()),i=parseInt(b.find(".more").outerWidth()),g=0;
a("#byline .author").each(function(){a(this).is(".notFaded")&&(g+=a(this).outerWidth())});a("#byline .more").attr("data-width",i);var f=c-i;if(f>g)b.find(".author").each(function(){var b=a(this).index();parseInt(b)>=3?(b=a(this).outerWidth(),a(this).attr("data-width",b),b<f?(f-=b,a(this).addClass("notFaded"),a(this).fadeIn("slow")):(f=0,a(this).fadeOut("slow"))):(b=a(this).outerWidth(),a(this).attr("data-width",b),f-=b)});else{var h=a("#byline .author.notFaded").length;a(a("#byline .author.notFaded").get().reverse()).each(function(b){f<
g&&b<h-1&&(b=a(this).outerWidth(),g-=b,a(this).fadeOut("slow").removeClass("notFaded"))})}c=b.find(".author").length-b.find(".author.notFaded").length;c>0&&(b.find(".moreCount").html(c),b.find(".more").fadeIn("slow"),b.find(".more").addClass("notFaded"))})(b.$("#byline"));a(window).resize(function(){c()})})})})(function(){var h=window.AmazonUIPageJS||P,c=h.attributeErrors;return c?c("HardlinesDetailPageJavascript"):h}());