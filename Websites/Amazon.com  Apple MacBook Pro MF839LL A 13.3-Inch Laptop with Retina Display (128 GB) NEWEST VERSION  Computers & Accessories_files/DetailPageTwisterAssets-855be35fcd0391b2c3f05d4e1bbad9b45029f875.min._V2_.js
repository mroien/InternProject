(function(p){p.execute(function(){p.when("A","jQuery").register("detail-page-state-controller",function(){return function(){this.state={};this.getState=function(){return this.state};this.setState=function(n,k){n&&k&&(this.state[n]=k)}}});p.when("A","jQuery").register("detail-page-framework",function(){return{callbacks:{},registerCallback:function(n,k,d){n!="after_redraw"&&n!="asin_select"||k!="sims-widget"&&k!="session-similarities"&&k!="purchase-similarities"&&k!="buyxgety"||(this.callbacks[k+"_feature_div"]=
d)},registerFeature:function(){},registerFeatureConfig:function(){}}});p.register("dp-js-logger",function(){return function(n){function k(a,c,d){c=c||{};typeof a==="string"&&(c.message+=a,a=void 0);c.logLevel=d;window.ueLogError&&window.ueLogError(a,c)}var d=this;d.attribution=n||"Twister";d.logFatal=function(a,c){k(a,c,"FATAL")};d.logError=function(a,c){k(a,c,"ERROR")};d.logCounter=function(a,c){window.ue&&window.ue.count&&ue.count(d.attribution+a,c)};d.consoleLog=function(a){window.console&&typeof Twister!==
"undefined"&&Twister.printConsoleLogs&&console.log(a)}}});p.when("A","jQuery","dp-js-logger").register("dp-ajax-prefetch-metrics",function(n,k,d){function a(a){this.scope="dpPre"+a;this.data={}}new d("PrefetchMetrics");a.prototype._count=function(a,d){var j=this.scope+a,f;window.ue&&window.ue.count&&(f=typeof d!=="undefined"?(f=ue.count(j,d))||d:(f=ue.count(j))||0);return f};a.prototype._incrementCounter=function(a){this._count(a,(this._count(a)||0)+1)};a.prototype._record=function(a,d,j){this.data[d]=
this.data[d]||{};if(!this.data[d][a])this.data[d][a]=j||(new Date).getTime(),a=="predicted"?this._incrementCounter("Predicted"):a=="selected"&&this.data[d].predicted?(a=this.data[d].selected-this.data[d].predicted,this.data[d].lookahead=a,this._incrementCounter("PredictedSelect"),this._count("LookAhead"+this._count("PredictedSelect"),a),this._count("LookAhead",a)):a=="selected"&&!this.data[d].predicted&&this._incrementCounter("UnpredictedSelect")};a.prototype.setCounter=function(a,d){this._count(a,
d)};a.prototype.predicted=function(a,d){this._record("predicted",a,d)};a.prototype.selected=function(a,d){this._record("selected",a,d)};a._allInstances={};a.getInstance=function(c){if(!c)throw"Undefind scope. scope is a required parameter";a._allInstances[c]||(a._allInstances[c]=new a(c));return a._allInstances[c]};return a});p.when("A","jQuery","dp-js-logger","dp-ajax-prefetch-metrics").register("dp-ajax-prefetch",function(n,k,d,a){function c(f,m,b,g,e,c){this.scope=f;this.uniqueId=m;this.url=b;
this.options=g;this.context=e;this.status=o;this.selected=!1;this.error=this.successData=this.xhr=this._status=void 0;this.chunks=[];this.doNotAbort=c||!1;this.prefetchMetrics=a.getInstance(this.scope)}var o=0,j=new d("dpAjaxPrefetch");c.prototype._callback=function(a,m,b,g,e){typeof a==="function"&&a.call(self,m,b,g,e)};c.prototype._canAbort=function(){return!this.doNotAbort&&this.status===1};c.prototype._isAborted=function(){return this.status===3};c.prototype._getUniqueId=function(){return this.uniqueId};
c.prototype._abort=function(){if(this.status===1)try{this.ajaxRequestRefence.abort(),this.status=3}catch(a){j.logFatal(a,{message:" Could not abort ajax request."})}};c.prototype._flushChunkData=function(){var a=this;a.chunks.length&&a.chunks.map(function(m){a._callback(a.options.chunk,m,a.context)})};c.prototype._request=function(){var a=this;a.ajaxRequestRefence=n.get(a.url,{params:a.options.params,success:function(m,b,g){a.status=4;a.successData=m;a._status=b;a.xhr=g;a.selected&&a._callback(a.options.success,
m,b,g,a.context)},error:function(m,b,g){a.status=2;a.xhr=m;a._status=b;a.error=g;a.selected&&a._callback(a.options.error,m,b,g,a.context)},abort:function(m){a.status=3;a.xhr=m;a.selected&&a._callback(a.options.abort,m,a.context)},chunk:function(m){m&&(a.chunks.push(m),a.selected&&a._callback(a.options.chunk,m,a.context))},timeout:a.options.timeout||4E4})};c.prototype.prefetchContent=function(){this.prefetchMetrics.predicted(this.uniqueId);if(this.status===o)this.status=1,this._request()};c.prototype.getContent=
function(a){a&&this.prefetchMetrics.selected(this.uniqueId);c._abortPrefetchesExcept(this);this.selected=!0;this.status===o?(this.status=1,this._request()):this.status===1?this._flushChunkData():this.status===4&&(this._flushChunkData(),this._callback(this.options.success,this.successData,this._status,this.xhr,this.context))};c._objects={};c._abortPrefetchesExcept=function(a){k.each(c._objects[a.scope],function(m,b){b._canAbort()&&m!==a._getUniqueId()&&b._abort()})};c.getInstance=function(a,m,b,g,
e,d){if(!a||!m||!b||typeof g!=="object")throw"Incorrect parameter passed.";c._objects[a]=c._objects[a]||{};var l=c._objects[a][m];l&&l._isAborted()&&(delete c._objects[a][m],l=void 0);l||(c._objects[a][m]=new c(a,m,b,g,e,d,this));return c._objects[a][m]};return c});p.when("A","jQuery","twisterModule","dp-js-logger","page-refresh:controller","twister-controller","twister-state","twister-string-constants").register("detailPage:RefreshHandler",function(n,k,d,a,c,o,j,f){var m=window.twisterController.twisterModel.twisterState,
b=new a("dpPageRegreshHandler"),g={},e=function(a){var e=this;e.clientId=a;e.doPageRefresh=function(h){if(!Array.isArray(h))throw"Incorrect parameters passed to doPageRefresh for clientId "+e.clientId;h=m.getRequestContextForExternalTwisterUpdates(h);try{c.updatePage(h,f.EVENT_TYPE_CLICK)}catch(g){b.logFatal(g,{message:" Error doing page-refresh for clientId "+a})}};e.getURLParamObject=function(a,b,f){if(!a||f==null)throw"Incorrect parameters passed to getURLParams for clientId "+e.clientId;return{key:encodeURIComponent(a),
value:encodeURIComponent(b),isPersistent:f}}};return{getHandlerInstance:function(a){if(a==null||a=="")throw"Incorrect clientID passed to getHandlerInstance of dpRefreshHandler";g[a]||(g[a]=new e(a));return g[a]}}});p.when("A","jQuery","detailPage:RefreshHandler","twister-string-constants").register("your-module-name",function(n,k,d){window.handleClickForMyButton=function(){for(var a=[],c="",o="",j=0,f=arguments.length;j<f;j++)o=arguments[j],j==0?c=d.getHandlerInstance(o):(o=c.getURLParamObject(o[0],
o[1],o[2]),a.push(o));c.doPageRefresh(a)}});p.when("A","jQuery","dp-ajax-prefetch","detail-page-framework","dp-js-logger","twister-string-constants","page-refresh:meta-cache","page-refresh:page").register("page-refresh:controller",function(n,k,d,a,c,o,j,f){var m=4E4,b=1,g="dpTwister",e=1,x={intermediateEOS:1,EOS:1},l=1500,h=new c("dpTwister");return new function(){function c(a,e){if(!(e.recordImpressionPending>b)){var f=e.impressionCallbackData&&e.impressionCallbackData.relatedRequestID,g="/gp/twister/impression.html/?relatedRequestID="+
f;f?n.delay(function(){n.get(g,{success:function(){h.logCounter("dpTwisterImpression",1)},timeout:m,error:function(){h.logCounter("dpTwisterImpressionFailed",1)}})},l):h.logFatal("prefetchRequestId does not exists. twister prefetch ajax requests are not returning the metadata.");e.recordImpressionPending++;j.set(a,e)}}function y(a,h,b){if(typeof h.forceFullPrefetch==="undefined")h.forceFullPrefetch=b||o.NO,j.set(a,h);return h.forceFullPrefetch===o.NO&&v.metadata[a.mType]&&!v.metadata[a.mType].fullyPrefetchable}
function z(a,h){t(a,function(a){f.executeClientFeatures(a,h)})}function t(a,h){var b=[a];a.relatedContext&&b.push(a.relatedContext);k.each(b,function(a,b){h.apply(v,[b])})}function u(a,h){t(a,function(a){f.fadeInFeatures(a);var b=a.uniqueID,l=a.url;md=j.get(a);if(v.newPrefetchWeblab&&md.prefetchSent&&y(a,md))b=b+"_prefetch_"+e,l=l+"&prefetchParam="+e,md.hotFeaturesPending=!0;md.requestSent=!0;j.set(a,md);var m=v.newPrefetchWeblab&&h===o.EVENT_TYPE_CLICK;d.getInstance(g,b,l,w,a,a.doNotAbort).getContent(m)})}
var v=this;v.metadata={};v.newPrefetchWeblab=!1;v.page=f;var w={chunk:function(a,h){var b=a.ASIN,e=a.Value,g=a.FeatureName;if(!x[g]){var l=j.get(h);g==="twister-request-metadata"?(l.impressionCallbackData=n.parseJSON(e.content[g]),j.set(h,l)):f.refreshFeature(b,g,e)}},success:function(a,h,b,e){a=j.get(e);if(a.hotFeaturesPending)a.hotFeaturesPending=!1,j.set(e,a),d.getInstance(g,e.uniqueID+"_prefetch_2",e.url+"&prefetchParam=2",w,e,e.doNotAbort).getContent();a.recordImpressionPending&&c(e,a)},error:function(a,
b,e){Twister.$("#variations-overlay").hide();Twister.showErrorMessageOnFailure&&(alert(Twister.errorMessageOnFailure),location.reload());h.logFatal(b+" "+e)},abort:function(a){h.logFatal(" Ajax aborted: "+a)},timeout:m};v.prefetchPage=function(a,h){t(a,function(a){var b=a.uniqueID,f=a.url,l=j.get(a);if(!l.requestSent)y(a,l,h)&&(b=b+"_prefetch_"+e,f=f+"&prefetchParam="+e),l.prefetchSent=!0,l.recordImpressionPending=l.recordImpressionPending||1,l.requestSent=!0,j.set(a,l),d.getInstance(g,b,f,w,a,a.doNotAbort).prefetchContent()})};
v.updatePage=function(h,b){if(b===o.EVENT_TYPE_CLICK||b===o.EVENT_TYPE_DROPDOWN_CHANGE){if(!h.partialState){if(a.callbacks["sims-widget_feature_div"])a.callbacks["sims-widget_feature_div"](DetailPage.StateController.getState());f.startMeasurement(h)}u(h,b)}z(h,b)};v.init=function(a){v.newPrefetchWeblab=a.newPrefetchWeblab;k.each(a.contextMetaData,function(a,h){if(h.elementList){for(var b=h.elementList.length,e=!0,f=0;f<b;f++)if(!h.elementList[f].isPrefetchable){e=!1;break}v.metadata[a]||(v.metadata[a]=
{});v.metadata[a].fullyPrefetchable=e}});f.init(a)}}});p.when("A","jQuery","page-refresh-measurement","twister-string-constants","dp-js-logger").register("page-refresh:page",function(n,k,d,a,c){var o=new c("dpTwister");return new function(){var c=this;c.measurement=void 0;c.config={partial:{},full:{},parent:{},master:{}};c.initializeMeasurement=function(a){var m=a.measurement;c.measurement=new d(k,m.atf.marker,m.cf.marker);c.measurement.init(a.storeID,a.productGroupID)};c.init=function(f){c.initializeMeasurement(f);
k.each(f.contextMetaData,function(f,b){var g=[],e={},d=b.elementList||[],l=d.length;e[a.EVENT_TYPE_MOUSEOVER]={};e[a.EVENT_TYPE_CLICK]={};for(var h=0;h<l;h++){var o=k("#"+d[h].divToUpdate);g.push("#"+d[h].divToUpdate);o.length&&d[h].customClientFunction&&(d[h].updateOnHover&&(e[a.EVENT_TYPE_MOUSEOVER][d[h].divToUpdate]=o.attr("customfunctionname")),e[a.EVENT_TYPE_CLICK][d[h].divToUpdate]=o.attr("customfunctionname"))}c.config[f].affectedFeatures=g.join(",");c.config[f].clientFeatures=e})};c.startMeasurement=
function(a){this.measurement.start(a.newAsin)};c.fadeInFeatures=function(a){k(this.config[a.mType].affectedFeatures).css({opacity:0.5})};c.executeClientFeatures=function(f,m){k.each(c.config[f.mType].clientFeatures[m===a.EVENT_TYPE_CLICK||m===a.EVENT_TYPE_DROPDOWN_CHANGE?a.EVENT_TYPE_CLICK:a.EVENT_TYPE_MOUSEOVER],function(a,g){try{eval("var twisterCustomFunction = "+g+";"),twisterCustomFunction(f.reactID,DetailPage.StateController,function(){c.measurement.stampImageLoad(f.newAsin)})}catch(e){o.logFatal(e)}})};
c.refreshFeature=function(a,c,b){var g,e;try{c&&b&&b.content&&(e=b.content[c],typeof e!=="undefined"&&(g=k("#"+c),g.html(e),g.css({opacity:""})))}catch(d){c=c||"NoFeatureName",o.logFatal(d,{message:" Error in feature "+c})}this.measurement.stampFeature(c,a)}}});p.when("twister-string-constants").register("page-refresh:meta-cache",function(n){return{data:{},set:function(k,d){var a=this.getKey(k);return a?this.data[a]=d:void 0},get:function(k){return this.data[this.getKey(k)]||{}},getKey:function(k){var d;
k&&k.newAsin&&(d=k.mType===n.MTYPE_PARENT?k.mType+k.newAsin:k.mType===n.MTYPE_MASTER?k.mType+k.id:k.mType+k.newAsin+k.reactID);if(!d)throw"Twister PageRefresh::MetaCache:getKey incorrect context passed.";return d}}});p.when("A","jQuery").register("page-refresh-ajax-scope",function(){return function(n,k,d){this.scopeName=k;this.url=d;ues("t0",k,window.newTwisterInteractionStartTime);ues("ctb",k,"1");this.signalMarker=function(a){this.markers[a]&&!(this.markers[a].conditions<=0)&&--this.markers[a].conditions===
0&&typeof this.markers[a].handler=="function"&&this.markers[a].handler()};this.addlongPoleTag=function(a,d){a=a.toLowerCase();this.markers[a]&&this.markers[a].conditions==0&&this.markers[a].conditions==0&&window.ue&&typeof ue.tag==="function"&&ue.tag(d)};this.postData=function(){var a=this.scopeName;n.ajax({url:this.url,dataType:"text",timeout:4E4,error:function(){},success:function(d){ues("id",a,d);uex("ld",a)}})};var a=this;this.markers={image:{conditions:1,handler:function(){uet("ne",k);a.signalMarker("af")}},
af:{conditions:Twister.atfMarkerCount?Twister.atfMarkerCount:2,handler:function(){uet("af",k);uet("cf",k);a.signalMarker("cf")}},cf:{conditions:Twister.cfMarkerCount?Twister.cfMarkerCount:2,handler:function(){uet("cf",k);a.postData()}}}}});p.when("A","jQuery").register("page-refresh-cache",function(){return function(){this.data={};this.getValue=function(n,k){return this.data[n]==null?null:k?this.data[n][k]:this.data[n]};this.setValue=function(n,k,d){if(this.data[n]==null||this.data[n].pending)this.data[n]=
{};this.data[n][k]=d};this.clear=function(n){this.data[n]=null}}});p.when("A","jQuery","page-refresh-refresh","page-refresh-measurement","page-refresh-model","detail-page-framework").register("page-refresh-manager",function(n,k,d,a,c,o){return function(j,f,m,b,g){this.$=j;this.model={};this.refresh=new d(j,b,g);this.contextMetaData=f;this.measurement=new a(j,m.atfMarker,m.cfMarker);this.init=function(a,b){for(var f in this.contextMetaData)this.model[f]=new c(j,this.contextMetaData[f].AJAXUrl,this.contextMetaData[f].elementList,
f.toString());this.measurement.init(a,b)};this.getModelCacheSize=function(a){var b=0;this.model.hasOwnProperty(a)&&j.each(this.model[a].cache.data,function(a,h){h.hasOwnProperty("cacheStatus")&&(h.cacheStatus==="preFetched"||h.cacheStatus==="completeFetched")&&b++});return b};this.react=function(a,b){for(var f in this.model)b||this.model[f].finishAjaxCall(this.model[f].currentRequestId,1);f=0;for(var h=a.length;f<h;f++){var g=a[f];b||this.model[g.type].finishAjaxCall(this.model[g.type].currentRequestId,
2);this.refresh.startRefresh(this.model[g.type].getUpdateData(this,g));this.model[g.type].makePendingCallBacks()}};this.pageRefreshHandler=function(a,b,f,h){if(!h.noRefresh)for(var g in h.content)try{this.refresh.doRefresh(g,h.content[g]);if(f.isFinishRefreshReq)if(this.refresh.finishRefresh(g),g=="session-similarities_feature_div"||g=="purchase-similarities_feature_div"||g=="buyxgety_feature_div"){if(o.callbacks[g])o.callbacks[g]()}else g==="zeroes-buy-box_feature_div"&&Twister.isIEBrowser(j)&&j("#"+
g).css({opacity:"",zoom:1});this.measurement.stampFeature(b,a)}catch(c){}}}});p.when("A","jQuery","page-refresh-ajax-scope").register("page-refresh-measurement",function(n,k,d){return function(a,c,o){this.atfMarker=c;this.cfMarker=o;this.scopeCount={};this.ajaxScopes={};this.url="";this.init=function(a,f){this.url="/gp/twister/dynamic-update/ajax-measurement.html/?s="+a+"&pgid="+f+"&deviceType="+Twister.deviceType;Twister.isInstaTwisterEnabled&&(this.url+="&ptd="+Twister.productTypeName)};this.start=
function(c){if(window.ue){this.scopeCount[c]||(this.scopeCount[c]=0);var f=c+(this.scopeCount[c]+1);this.scopeCount[c]++;this.ajaxScopes[c]=new d(a,f,this.url)}};this.stampImageLoad=function(a){this.ajaxScopes[a]&&(this.ajaxScopes[a].signalMarker("image"),Twister.cfImageLongPollTag&&this.ajaxScopes[a].addlongPoleTag("cf",Twister.cfImageLongPollTag))};this.stampFeature=function(a,f){this.ajaxScopes[f]&&(a===this.atfMarker&&this.ajaxScopes[f].signalMarker("af"),a===this.cfMarker&&(this.ajaxScopes[f].signalMarker("cf"),
Twister.cfHtmlLongPollTag&&this.ajaxScopes[f].addlongPoleTag("cf",Twister.cfHtmlLongPollTag)))};this.stampCustomMetrics=function(a,f){this.ajaxScopes[f]&&uet(a,this.ajaxScopes[f].scopeName)}}});p.when("A","jQuery","page-refresh-cache").register("page-refresh-model",function(n,k,d){return function(a,c,o,j){this.$=a;this.pendingCallBacks={};this.pendingCallBacksASIN="";this.cache=new d;this.AJAXUrl=c;this.AJAXRequests={};this.requestIdHash={};this.elementList=o;this.currentRequestId=null;this.pendingCallbacksList=
{};this.immediateCallbacksList=[];this.elementsToRefresh=[];this.modelType=j;this.getNewRequestId=function(){for(var a=0;a<100;a++){var c=a.toString();if(!this.requestIdHash.hasOwnProperty(c))return this.requestIdHash[c]=!0,c}};this.removeRequestId=function(a){typeof a!="string"&&(a=a.toString());this.requestIdHash.hasOwnProperty(a)&&delete this.requestIdHash[a]};this.executeActionItems=function(a,c,b,g,e){for(var b=b.divToUpdate,d=0,l=a.length;d<l;d++){var h=a[d];if(h=="addToImmediate")h={},h.id=
c,h.key=b,this.immediateCallbacksList.push(h);else if(h=="addToElementsRefresh"||h=="addToElementsRefreshWithLoading")e.push(b+(h=="addToElementsRefreshWithLoading"?",loadingBar":""));else if(h=="updateCache")h={handler:this,callbackType:"updateCache"},this.addToPendingCallbacksList(c,b,h);else if(h=="customClientFunction"){var h={handler:this,callbackType:"customClientFunction"},j={};j.refreshHandler=g;h.callbackParams=j;this.addToPendingCallbacksList(c,b,h)}else if(h=="doRefreshAndFinish"||h=="doRefresh")h=
{},h.handler=g,h.callbackType="doRefresh",j={isFinishRefreshReq:1},h.callbackParams=j,this.addToPendingCallbacksList(c,b,h)}};this.getAjaxCallContext=function(a,c,b,g,e,d){var c=[],l=e=0,h="notFetched";this.cache.getValue(a,"cacheStatus")&&(h=this.cache.getValue(a,"cacheStatus"));for(var j=0,y=this.elementList.length;j<y;j++){var o=this.elementList[j],k=o.divToUpdate,u=[],n=1,w=0,q=0,r=0;o.isPrefetchable=="0"&&(n=0,l=1);o.customClientFunction=="1"&&(w=1,n=0);o.updateOnHover=="1"&&(q=1);o.loadingBar==
"1"&&(r=1);if(!d||q){if(b)if(w||!n||this.cache.getValue(a,k))continue;else u.push("updateCache"),e||(e=1);else w?(u.push("customClientFunction"),u.push("addToImmediate")):this.cache.getValue(a,k)?(u.push("doRefresh"),u.push("addToImmediate")):(u.push("updateCache"),u.push("doRefreshAndFinish"),r?u.push("addToElementsRefreshWithLoading"):u.push("addToElementsRefresh"),e||(e=1));if((b==1&&h=="preFetched"||b==0&&h=="completeFetched"||b==1&&h=="completeFetched")&&e==1)e=0;this.executeActionItems(u,a,
o,g,c)}}if((b==1&&h=="preFetched"||b==0&&h=="completeFetched"||b==1&&h=="completeFetched")&&e==1)e=0;d&&e&&(e=0);e&&this.cache.setValue(a,"cacheStatus",b?l?"preFetching":"completeFetching":h=="preFetched"?"hotFeaturesFetching":"completeFetching");a={};a.isAjaxCallReq=e;a.elementsToRefresh=c;return a};this.getUpdateData=function(a,c){for(var b=c.idList,g=[],e=[],d=[],l=[],h=0,j,y,o,k,u,n=1,w=0,q=b.length;w<q;w++){y=b[w].id;o=b[w].asin;k=b[w].isPrefetch;j=b[w].requiredDivs;j=this.getAjaxCallContext(y,
o,k,a,j,b[w].isHover);u=j.elementsToRefresh;for(var r=0,p=u.length;r<p;r++)l.push(u[r]);if(j.isAjaxCallReq){h=1;k=k?1:this.cache.getValue(y,"cacheStatus")=="hotFeaturesFetching"?2:0;if(k==0||k==2)n=0;e.push(y);d.push(o);g.push(k)}}if(h){b={};b.asinList=d.join(",");b.id=e.join(",");b.prefetchParam=g.join(",");b.managerHandler=a;b.modelType=this.modelType;b.containsOnlyPrefetches=n;try{this.doAjaxCall(b)}catch(B){}}this.elementsToRefresh=l.slice();return l};this.makeCallback=function(a,c,b,g){var e=
b.handler,d=b.callbackType,b=b.callbackParams;g==null&&(g=this.cache.getValue(a,c));if(typeof e=="function")e(a,c,b,g);else if(d=="doRefresh")e.pageRefreshHandler(a,c,b,g);else if(d=="customClientFunction")try{e.callCustomClientFunction(a,c,b,g)}catch(l){}else d=="updateCache"&&e.updateCache(a,c,b,g)};this.makePendingCallBacks=function(a,c,b){var g;if(a){if(typeof this.pendingCallbacksList[a]==="object")if(c){g=this.pendingCallbacksList[a][c];if(!g){g=[];var e={handler:this,callbackType:"updateCache"};
g.push(e)}for(var d=0,l=g.length;d<l;d++){e=g[d];try{this.makeCallback(a,c,e,b)}catch(h){}}this.pendingCallbacksList[a][c]&&delete this.pendingCallbacksList[a][c]}else{for(e in this.pendingCallbacksList[a]){g=this.pendingCallbacksList[a][e];d=0;for(l=g.length;d<l;d++)this.makeCallback(a,c,callbackargs,b)}delete this.pendingCallbacksList[a]}}else{a=0;for(l=this.immediateCallbacksList.length;a<l;a++)c=this.immediateCallbacksList[a],this.makePendingCallBacks(c.id,c.key,null);this.immediateCallbacksList=
[]}};this.addToPendingCallbacksList=function(a,c,b){this.pendingCallbacksList.hasOwnProperty(a)||(this.pendingCallbacksList[a]={});this.pendingCallbacksList[a].hasOwnProperty(c)||(this.pendingCallbacksList[a][c]=[]);this.pendingCallbacksList[a][c].push(b)};this.doAjaxCall=function(a){Twister.useVariationsOverlay&&Twister.remainingAjaxCalls===0&&Twister.$("#variations-overlay").show();Twister.remainingAjaxCalls+=1;var c=this.getNewRequestId();this.currentRequestId=c;var b=a.managerHandler,g=this.AJAXUrl+
a.asinList+"&isFlushing=2&id="+a.id+"&prefetchParam="+a.prefetchParam+"&mType="+a.modelType;Twister.isInstaTwisterEnabled&&(g+="&dpEnvironment="+Twister.dpEnvironment);var e={};if(Twister.useAuiAjax){var d=this,g=Twister.A.ajax(g,{method:"get",chunk:function(a){d.AJAXHandler(null,a,AJAXFlushUtils.ajaxReadyState.LOADING)},success:function(){d.AJAXHandler(null,null,AJAXFlushUtils.ajaxReadyState.DONE);Twister.remainingAjaxCalls-=1;Twister.remainingAjaxCalls===0&&Twister.$("#variations-overlay").hide()},
error:function(){Twister.$("#variations-overlay").hide();Twister.remainingAjaxCalls-=1;Twister.showErrorMessageOnFailure&&(alert(Twister.errorMessageOnFailure),location.reload());Twister.printConsoleLogs&&console.logs("ajax call failed")},timeout:4E4});e.streamingXhrRef=g}e.ajaxParams=a;e.managerHandler=b;this.AJAXRequests[c]=e};this.abortAllAjaxCalls=function(){for(requestId in this.requestIdHash)this.finishAjaxCall(requestId,!0)};this.finishAjaxCall=function(a,c){if(a){var b=this.AJAXRequests[a],
g=b.streamingXhrRef,e=b.ajaxParams,b=e.id.split(","),e=e.containsOnlyPrefetches;if(!(c==1&&e)){this.pendingCallbacksList={};this.immediateCallbacksList=[];if(c){g&&typeof g.abort==="function"&&g.abort(AJAXFlushUtils.ajaxHandlerCode.ABORT);g=0;for(e=b.length;g<e;g++)if(this.cache.getValue(b[g])){var d=this.cache.getValue(b[g],"cacheStatus");d=="preFetching"||d=="completeFetching"?c?this.cache.clear(b[g]):this.cache.setValue(b[g],"cacheStatus",d=="preFetching"?"preFetched":"completeFetched"):d=="hotFeaturesFetching"&&
this.cache.setValue(b[g],"cacheStatus",c?"preFetched":"completeFetched")}}this.elementsToRefresh=[];this.removeRequestId(a);delete this.AJAXRequests[a];this.currentRequestId=null}}};this.updateCache=function(a,c,b,g){c=="intermediateEOS"||c=="EOS"?(c=this.cache.getValue(a,"cacheStatus"),c=="preFetching"?this.cache.setValue(a,"cacheStatus","preFetched"):(c=="completeFetching"||c=="hotFeaturesFetching")&&this.cache.setValue(a,"cacheStatus","completeFetched")):this.cache.setValue(a,c,g)};this.callCustomClientFunction=
function(c,d,b){var g=a("#"+d).attr("customFunctionName");if(g){var e=b.refreshHandler,j=DetailPage.StateController.getState().current_asin,l=function(){e.measurement.stampImageLoad(j)},b=Twister.useAui?l:null;if(g=Twister.useAui?eval("var customFunction = "+g+"; customFunction")(c,DetailPage.StateController,b):eval(g)(c,DetailPage.StateController,b)){b={isFinishRefreshReq:0};if(!Twister.useAui){var h;if(d=="twister-main-image"&&j){h=document.getElementById("main-image");if(!h){var o=document.getElementById("main_image_0");
o&&(h=(h=o.getElementsByTagName("img"))?h[0]:null)}if(h)h.onload=l}}e.pageRefreshHandler(c,d,b,g);Twister.useAui||navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&h&&h.complete&&l()}}};this.AJAXHandler=function(a,c,b){if(b==AJAXFlushUtils.ajaxReadyState.DONE)return this.finishAjaxCall(this.currentRequestId,0),AJAXFlushUtils.ajaxHandlerCode.OK;for(a=0;a<1;a++){var g=c,b=g.ASIN,c=g.Value,g=g.FeatureName;g=="intermediateEOS"||g=="EOS"?this.updateCache(b,g,null,c):this.makePendingCallBacks(b,g,
c)}return AJAXFlushUtils.ajaxHandlerCode.OK};this.AJAXErrorHandler=function(a,c,b){(a=a.xhrStatus)||(a=b);return a}}});p.when("A","jQuery").register("page-refresh-refresh",function(){return function(n,k,d){this.$=n;this.loadingBarHtml=k;this.loadingBarHtml2=d;this.doRefresh=function(a,c){n("#"+a).html(c)};this.startRefresh=function(a){if(a)for(var c=0,d=a.length;c<d;c++){var j=a[c].split(","),f=j[0],m=!0,b=!1;if(f=="buy-box_feature_div"||f=="more-buying-choices_feature_div"||f=="session-similarities_feature_div"&&
n.browser.msie)m=!1;j.length>1&&j[1]=="loadingBar"&&(b=!0);m&&!Twister.useVariationsOverlay&&n("#"+f).css("opacity","0.5");b&&this.appendLoadingBar(f)}};this.appendLoadingBar=function(a){var c=n("#"+a);a!="moreBuyingChoices_feature_div"&&!c.attr("loadingBarSet")&&(c.attr("loadingBarSet","1"),a=="more-buying-choices_feature_div"?(c=n("#more-buying-choice-content-div"),c.html(this.loadingBarHtml2)):(a=c.find("h2, h1, b"),a.length>0&&(a=n(a[0]),a.css({display:"inline",padding:"0px"}),a.after(n(this.loadingBarHtml)))))};
this.finishRefresh=function(a){var c=!0,d=!0;a=="buy-box_feature_div"&&(d=c=!1);if(a=="session-similarities_feature_div"&&n.browser.msie||a=="more-buying-choices_feature_div")c=!1;var j="0";a=="more-buying-choices_feature_div"&&(j="1");c&&n("#"+a).css({opacity:"",zoom:j});d&&n("#"+a).removeAttr("loadingBarSet")}}});p.when("A").register("evdd-utils",function(){return function(){this.PopulateEVDD=function(n,k,d,a){var c={},o,j;for(o in n)j=d[o],masterDimValIndex=j[0],slaveDimValIndex=j[1],a==masterDimValIndex&&
(c[slaveDimValIndex]=n[o]);typeof k.dimensionViewHandlersMap[1].updateViewWithPriceInfo==="function"&&k.dimensionViewHandlersMap[1].updateViewWithPriceInfo(c)}}});p.when("A","twister-utils","twister-string-constants").register("twister-beaconized-evdd",function(n,k,d){return function(a,c){function o(){var a=8+e(x).height(),b;b={localContent:l,location:"bottom",showOnHover:!1,showCloseButton:!1,skin:null,clone:!1,controlCallbacks:!0,locationOffset:[-2,-a],closeEventInclude:"CLICK_OUTSIDE",forceAlignment:!0,
group:"DonsBoxDropDowns",width:null};amznJQ.available("popover",function(){z=e(x).amazonPopoverTrigger(b)});e(document).bind("touchend click",function(){z.amznPopoverHide()})}function j(a){a=a.currentTarget.id.split("_");twisterController.handleClick({dimIndex:g.dimOrder,dimValueIndex:a[a.length-1]});return!1}function f(a){e(a.currentTarget).addClass(s)}function m(a){e(a.currentTarget).removeClass(s);return!1}function b(a){e(a.currentTarget).removeClass(s);j(a);return!1}var g=this,e=n.$,x,l,h,s="evdd-row-hovered",
y,z,t={};g.dimType="evdd";g.isMasterDim=!1;g.updateView=function(a){var b=k.getDimStyleData(a.dimCombID,g.dimValuesDisplayData.length,g.dimOrder,g.twisterControllerHandle.twisterAvailabilityCache,g.displayConfigStylesData),c,d,l,f=-1,a=0,f="";z.amznPopoverHide();for(var j=0,m=b.length;j<m;j++)c=b[j],d=t[c.style],l="#"+g.dimName+"_"+j,d==="evdd-row-selected"&&(f=j,f=g.dimValuesDisplayData[f]),(c.style==="available"||c.style==="selected")&&a++,$rowElement=e(l),$rowElement.removeClass(y).addClass(d),
$rowElement.find(".evdd-row-snake-wrapper").show(),$rowElement.find(".evdd-row-price-info-wrapper").html(""),$rowElement.find(".evdd-row-prime-badge-wrapper").html("");b=!1;!g.isMasterDim&&a===1&&(b=!0);a=b;e(x).find("button").text(f);e(h).text(f);a?(e(x).addClass("evdd-hidden"),e(h).removeClass("evdd-hidden")):(e(h).addClass("evdd-hidden"),e(x).removeClass("evdd-hidden"))};g.updateViewWithPriceInfo=function(a){var b,h,c;for(b in a)h=a[b],c="#"+g.dimName+"_"+b,c=e(c),c.find(".evdd-row-snake-wrapper").hide(),
c.find(".evdd-row-price-info-wrapper").html(h[2]),c.find(".evdd-row-prime-badge-wrapper").html(h[3])};(function(){var a;g.dimOrder=c[d.STRING_DIM_ORDER];g.dimName=c[d.STRING_DIM_NAME];g.dimensionsMap=c[d.STRING_DIMENSIONS_MAP];g.dimNameDisplayString=c[d.STRING_DIMENSION_DISPLAY_STRING];g.dimValuesDisplayData=c[d.STRING_DIMENSION_VALUES_DATA];g.displayConfigStylesData=c[d.STRING_DISPLAY_CONFIG_STYLES_DATA];g.twisterControllerHandle=c[d.STRING_TWISTER_CONTROLLER_HANDLE];g.initialTwisterState=c[d.STRING_TWISTER_INITIAL_STATE_KEY];
a=g.initialTwisterState.getCurrentDimCombID();g.dimData=k.getDimStyleData(a,g.dimValuesDisplayData.length,g.dimOrder,g.twisterControllerHandle.twisterAvailabilityCache,g.displayConfigStylesData);g.isMasterDim=!1;if(g.dimOrder==="0")g.isMasterDim=!0;g.dimNameDisplayString=c[d.STRING_DIMENSION_DISPLAY_STRING];x="#evdd-button-"+g.dimName;l="#evdd-table-wrapper-"+g.dimName;h="#evdd-singleton-"+g.dimName;t.invalid=g.isMasterDim?"evdd-row-default":"evdd-row-hidden";t.available="evdd-row-default";t.selected=
"evdd-row-selected";y=["evdd-hidden",s,"evdd-row-hidden evdd-row-default evdd-row-selected"].join(" ");o();for(var n=0,z=g.dimData.length;n<z;n++)a="#"+g.dimName+"_"+n,e(a).bind("click",j).bind("touchend",b).bind("touchstart",f).bind("mouseenter",f).bind("mouseleave",m)})()}});p.when("A","twister-variations-data","twister-view","twister-model","twister-model-new","twister-state","twister-availabilty-cache","twister-utils","evdd-utils").register("twister-controller",function(n,k,d,a,c,o,j,f,m){return function(b,
g){var e=this,x=n.$;e.twisterJSInitData=g;e.pageRefreshRefactor=g.pageRefreshRefactor;e.twisterVariationsData=new k(g);e.twisterAvailabilityCache=new j(e.twisterVariationsData);e.initTwisterState=new o(g,e.twisterVariationsData,e.twisterAvailabilityCache);e.twisterView=new d(e,e.initTwisterState,g,e.twisterVariationsData,e.twisterAvailabilityCache);e.twisterModel=e.pageRefreshRefactor?new c(e,g,e.twisterVariationsData):new a(e,b,g,e.twisterVariationsData,e.twisterAvailabilityCache);(function(){x(".variations .swatchOuter a").each(function(){var a=
jQuery(e).contents();x(e).replaceWith(a)});if(typeof TwisterNonJs!=="undefined")for(var a=TwisterNonJs.handleDropDown.length,b=0;b<a;b++)TwisterNonJs.handleDropDown[b]=function(){};x("#twister .swatches a").remove();x("#twisterNonJsData").html("")})();e.populateEVDD=function(a){var b=this.twisterView,c=this.twisterVariationsData.asinToDimIndexMapData,e=this.twisterModel.twisterState.getMaster();a&&(new m).PopulateEVDD(a,b,c,e)};e.handleClick=function(a){this.divMetaData=a;var b=e.initTwisterState.getCurrentDimCombID(),
b=f.reconstructCombinationWithDimValue(b,a.dimIndex,a.dimValueIndex);window.newTwisterInteractionStartTime=new Date;window.ue&&ue.tag&&ue.tag("twisterSwatchClick");if(!this.twisterVariationsData.useMS){if(f.isSwatchSelected(a,e.twisterVariationsData))return;var c=f.getAttachedClass(a);c!=="swatchHover"&&c!=="swatchUnavailableHover"&&this.twisterModel.twisterState.setPreHoverData(a)}this.enableMouseOut=0;this.twisterModel.handleClick(a);if(!e.twisterAvailabilityCache.isDimCombinationAvailable(b))a=
a.dimIndex==0?1:0,b=e.twisterView.dimensionViewHandlersMap,b[a]&&b[a].showVariationSelection&&b[a].showVariationSelection()};e.handleClickPrediction=function(a,b){this.twisterModel.prefetch(a,b)};e.handleMouseOver=function(a){if(typeof touchDeviceDetected!="undefined"&&touchDeviceDetected)return this.handleClick(a),!0;this.enableMouseOut=1;this.twisterModel.handleMouseOver(a);return!0};e.handleMouseOut=function(a,b,c){this.enableMouseOut===1&&this.twisterModel.handleMouseOut(a,b,c)};e.handleDropdownOnChange=
function(a,b){b.dimValueIndex=parseInt(a.value.split(",")[0]);window.newTwisterInteractionStartTime=new Date;window.ue&&ue.tag&&ue.tag("twisterDDClick");this.twisterModel.twisterState.setPreHoverData(b);this.twisterModel.handleDropdownChange(b)}}});p.when("A","twister-vodd","twister-beaconized-evdd","twister-native-evdd","twister-dimension-views-swatch","twister-dimension-views-dropdown","twister-dimension-views-singleton","twister-string-constants").register("twister-dimension-view-factory",function(n,
k,d,a,c,o,j,f){var m=n.$;return{getDimensionSubViewObject:function(b,g,e,n,l){var h,s=b.dimensionsDisplayType[e],y=b.dimensions[e],z=b.dimensions,t=b.dimensionsDisplay[e],u=g.dimensionValuesData[e],g=g.displayConfigStylesData[s];s===f.TWISTER_DIMENSION_VIEW_SWATCH?h=c:s===f.TWISTER_DIMENSION_VIEW_DROPDOWN?h=o:s===f.TWISTER_DIMENSION_VIEW_SINGLETON?h=j:s===f.TWISTER_DIMENSION_VIEW_EVDD?h=m("html").hasClass("a-lt-ie8")?a:d:s===f.TWISTER_DIMENSION_VIEW_VODD&&(h=k);s={};s[f.STRING_DIM_ORDER]=e;s[f.STRING_DIM_NAME]=
y;s[f.STRING_DIMENSIONS_MAP]=z;s[f.STRING_DIMENSION_DISPLAY_STRING]=t;s[f.STRING_DIMENSION_VALUES_DATA]=u;s[f.STRING_DISPLAY_CONFIG_STYLES_DATA]=g;s[f.STRING_TWISTER_CONTROLLER_HANDLE]=n;s[f.STRING_TWISTER_INITIAL_STATE_KEY]=l;return new h(b,s)}}});p.when("A","cf","twister-js-init-mason-data","twister-js-init-dpx-data","twister-controller","page-refresh-manager").execute(function(n,k,d,a,c,o){function j(){typeof amznJQ!="undefined"&&amznJQ.declareAvailable("newTwister");p.register("twisterModule",
function(){return{getState:function(){return DetailPage.StateController.getState()}}});typeof amznJQ!="undefined"&&(amznJQ.declareAvailable("pageRefreshJS"),amznJQ.declareAvailable("dpf"))}function f(a){var c={};a.extend(c,{ajaxReadyState:{NONE:-1,UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ajaxHandlerCode:{OK:0,IGNORE:1,RETRY:2,RELOAD:3,TIMEOUT:4,ABORT:5,FATAL:6,INVALID_RESP:7,INCOMPLETE_RESP:8,PAGELET_FATAL:9,DEBUG_NOAJAX:10},serverCode:{ERROR:-1,OK:200,TIMEOUT:408},shouldReload:function(){return!1}});
window.AJAXFlushUtils=c}window.Twister={};var m=window.Twister;m.$=n.$;m.DimensionViews={};n.on.ready(function(){m.A=n;if(!n.$.isEmptyObject(a)){var b=a.updateDivLists;m.dpEnvironment=a.dpEnvironment;m.isInstaTwisterEnabled=!0;m.productTypeName=d.productTypeName;var g=d.contextMetaData,e=g.full,k=g.master,l=g.parent,g=g.partial;d.dimensionSelectionData=a.dimensionSelectionData;d.dimensionsDisplayType=a.dimensionsDisplayType;d.ajaxUrlParams=a.ajaxUrlParams;if(a.shouldUseDPXTwisterData)d.dimToAsinMapData=
a.dimensionToAsinMap,d.asinToDimIndexMapData=a.asinToDimensionIndexMap,d.dimensionValuesData=a.dimensionValuesData,d.variation_values=a.variationValues,d.asin_variation_values=a.asinVariationValues,d.reactId=a.reactId,d.currentDimCombID=a.currentDimensionCombinationId,d.selected_variation_values=a.selectedVariationValues;b.full!=null&&(e.elementList=e.elementList!=null?b.full.concat(e.elementList):b.full);b.master!=null&&(k.elementList=k.elementList!=null?b.master.concat(k.elementList):b.master);
b.parent!=null&&(l.elementList=l.elementList!=null?b.parent.concat(l.elementList):b.parent);b.partial!=null&&(g.elementList=g.elementList!=null?b.partial.concat(g.elementList):b.partial)}b=d.isTablet;window.twisterInitPrefetchMode=d.twisterInitPrefetchMode;window.jqupgrade=d.jqupgrade;m.useDropdownThumbnail=b;m.useVariationsOverlay=b;m.showErrorMessageOnFailure=b;m.remainingAjaxCalls=0;m.errorMessageOnFailure="We are sorry.  Amazon has encountered an error.  Please try again.";m.isLoggingEnabled=
d.isLoggingEnabled;m.printConsoleLogs=d.printConsoleLogs;m.deviceType=d.deviceType;m.useAui=1;m.useAuiAjax=1;b=d.measurement.atf.marker;m.atfMarkerCount=d.measurement.atf.count;e=d.measurement.cf.marker;m.cfMarkerCount=d.measurement.cf.count;m.cfImageLongPollTag=d.measurement.cf.longPollImageTag;m.cfHtmlLongPollTag=d.measurement.cf.longPollHtmlTag;b=new o(n.$,d.contextMetaData,{atfMarker:b,cfMarker:e,logChannel:"twister"},d.loadingBarHtml,d.loadingBarHtml2);window.twisterController=new c(b,d);j();
f(n.$)});m.isIEBrowser=function(a){return a.browser.msie||!!navigator.userAgent.match(/Trident/)};return m});p.when("A","twister-state","twister-utils","detail-page-framework","twister-string-constants").register("twister-model",function(n,k,d,a){return function(c,k,j,f,m){function b(a){var b,c,e,d,f,j=l.twisterState.parentASIN,m;a?(b=l.twisterState.reactId,c=l.twisterState.hoveredReactId,e=l.twisterState.unselectedDimCount,d=l.twisterState.hoveredDimCombID.search(/X/)>=0?1:0,f=l.twisterState.hoveredAsin):
(b=l.twisterState.previousReactId,c=l.twisterState.reactId,e=l.twisterState.previousPartialState,d=l.twisterState.partialState,f=l.twisterState.getCurrentASIN());m=l.twisterVariationsData.asinToDimIndexMapData[f];l.twisterVariationsData.useMS&&m&&f&&g(l.fetchMasterIDList,"m"+m[0],f,0,a);d===0?(g(l.fetchFullIDList,f,f,0,a),l.prioritizeReqPrefetch=0):e===0?(g(l.fetchPartialIDList,c,f,0,a),g(l.fetchParentIDList,j,j,0,a),l.prioritizeReqPrefetch=1):b!==c&&g(l.fetchPartialIDList,c,f,0,a)}function g(a,b,
c,e,d){d||(d=0);if(l.idsList[b]!=1&&b&&c&&(!l.prefetchFixWeblab||!(c===l.twisterState.parentASIN&&a.type==="full"))&&a)l.idsList[b]=1,a.data.push({id:b,asin:c,isPrefetch:e,isHover:d})}function e(a){a||(a=0);var b=[];l.fetchParentIDList.data.length>0&&b.push({type:"parent",idList:l.fetchParentIDList.data});l.fetchPartialIDList.data.length>0&&b.push({type:"partial",idList:l.fetchPartialIDList.data});l.fetchFullIDList.data.length>0&&b.push({type:"full",idList:l.fetchFullIDList.data});l.fetchMasterIDList.data.length>
0&&b.push({type:"master",idList:l.fetchMasterIDList.data});b.length>0&&(a||l.pageRefresh.measurement.stampCustomMetrics("ns",l.twisterState.currentASIN),l.pageRefresh.react(b,a));l.fetchParentIDList.data=[];l.fetchPartialIDList.data=[];l.fetchFullIDList.data=[];l.fetchMasterIDList.data=[];l.idsList={};l.prefetchCount=0}function n(a,b){for(var c={},e="",g=0;g<b.length;g++)e=null,l.twisterState.isDimSelected(g)&&(e=b[g],e==="(Please Select)"&&(e=null)),e!==null&&(e=d.htmlUnescape(e)),c[l.viewHandle.dimensionsMap[g]]=
e;DetailPage.StateController.setState(a+"_variations",c)}var l=this;l.twisterControllerHandle=c;l.pageRefresh=k;l.twisterJSInitData=j;l.twisterVariationsData=f;l.twisterAvailabilityCache=m;l.prefetchCount=0;l.preHoverClass="";l.fetchParentIDList={type:"parent",data:[]};l.fetchPartialIDList={type:"partial",data:[]};l.fetchFullIDList={type:"full",data:[]};l.fetchMasterIDList={type:"master",data:[]};l.idsList={};l.prefetchFixWeblab=0;l.prioritizeReqPrefetch=0;l.handleMouseOver=function(a){var c;if(a!==
null&&(l.twisterState.updateStateOnMouseOver(a),!d.isSwatchSelected(a,l.twisterVariationsData)||l.twisterVariationsData.useMS))c=l.twisterVariationsData.getDimensionValuesDisplayData(l.twisterState.hoveredAsin),l.twisterVariationsData.useMS||n("hovered",c),this.viewHandle.updateView(a,l.twisterState,"mouseOver"),b(1),e(1)};l.handleDropdownChange=function(a){l.handleClick(a)};l.handleClick=function(c,g,f){var j=f?"mouseOut":"click",m=0,k=g,o=l.twisterState.getCurrentASIN();l.twisterVariationsData.useMS&&
c&&d.isSwatchSelected(c,l.twisterVariationsData)&&(m=1);f||(f=0);if(!(k===null&&c===null)&&l.twisterState.updateStateOnClick(c,g,j)){k=l.twisterState.getCurrentASIN();if(!f&&o!==k&&!l.twisterState.partialState&&a.callbacks["sims-widget_feature_div"])a.callbacks["sims-widget_feature_div"](DetailPage.StateController.getState());!l.twisterState.partialState&&!f&&l.pageRefresh.measurement.start(k);c=l.twisterVariationsData.getDimensionValuesDisplayData(k);n("selected",c);n("hovered",c);!l.twisterState.partialState&&
!f&&l.pageRefresh.measurement.stampCustomMetrics("bb",k);l.viewHandle.updateView({},l.twisterState,j);!l.twisterState.partialState&&!f&&l.pageRefresh.measurement.stampCustomMetrics("be",k);m!==1&&(b(f),e(f))}};l.handleMouseOut=function(a){var b=l.twisterState.getCurrentASIN();(l.twisterVariationsData.useMS||!d.isSwatchSelected(a,l.twisterVariationsData))&&l.handleClick(null,b,1)};(function(){var a;if(l.twisterJSInitData){l.twisterState=l.twisterControllerHandle.initTwisterState;l.MAX_PREFETCH_COUNT=
l.twisterJSInitData.prefetchCount;l.prioritizeReqPrefetch=l.twisterJSInitData.prioritizeReqPrefetch;l.prefetchFixWeblab=l.twisterJSInitData.prefetchFixWeblab;a=l.twisterState.getCurrentASIN();a=l.twisterVariationsData.getDimensionValuesDisplayData(a);if(!l.viewHandle)l.viewHandle=l.twisterControllerHandle.twisterView;n("selected",a);n("hovered",a)}l.pageRefresh.init(l.twisterJSInitData.storeID,l.twisterJSInitData.productGroupID)})()}});p.when("A","jQuery","twister-state","twister-utils","twister-string-constants",
"page-refresh:controller").register("twister-model-new",function(n,k,d,a,c,o){return function(d,f,m){function b(b,d,h,f){if((!d||e.twisterVariationsData.useMS||!a.isSwatchSelected(d,e.twisterVariationsData))&&e.twisterState.updateStateOnClick(d,h,f,b)){d=e.twisterVariationsData.getDimensionValuesDisplayData(h);if(c.EVENT_TYPE_CLICK==f){for(var h=e.twisterState.getCurrentDimCombID().split("_"),j={},m=0,k=e.twisterState.dimensionSelectionData.length;m<k;m++)j[e.twisterState.twisterJSInitData.dimensions[m]]=
e.twisterState.dimensionSelectionData[m].isRequired=="1"&&e.twisterState.dimensionSelectionData[m].isSelected=="0"&&h[m]==="X"?"-1":h[m];DetailPage.StateController.setState("selected_variation_values",j)}g("selected",d);g("hovered",d);e.viewHandle.updateView({},e.twisterState,f);o.updatePage(b,f)}}function g(a,b){for(var c={},d="",g=0;g<b.length;g++)d=null,e.twisterState.isDimSelected(g)&&(d=b[g],d==="(Please Select)"&&(d=null)),c[e.viewHandle.dimensionsMap[g]]=d;DetailPage.StateController.setState(a+
"_variations",c)}var e=this;e.twisterControllerHandle=d;e.twisterJSInitData=f;e.twisterVariationsData=m;e.pageRefresh=o.page;e.prefetch=function(a,b){var c=e.twisterState.getRequestContext(a,!0);o.prefetchPage(c,b)};e.handleMouseOver=function(b){if(!b||e.twisterVariationsData.useMS||!a.isSwatchSelected(b,e.twisterVariationsData)){var d=e.twisterState.getHoverContext(b);e.twisterState.updateStateOnMouseOver(b,d);var h=e.twisterVariationsData.getDimensionValuesDisplayData(d.newAsin);(!e.twisterVariationsData.useMS||
b&&b.dimDisplayType===c.TWISTER_DIMENSION_VIEW_VODD)&&g("hovered",h);this.viewHandle.updateView(b,e.twisterState,c.EVENT_TYPE_MOUSEOVER);o.updatePage(d,c.EVENT_TYPE_MOUSEOVER)}};e.handleClick=function(a){var d=e.twisterState.getRequestContext(a);b(d,a,d.childAsin,c.EVENT_TYPE_CLICK)};e.handleMouseOut=function(a){a=e.twisterState.getCurrentContext(a);b(a,null,a.currentAsin,c.EVENT_TYPE_MOUSEOUT)};e.handleDropdownChange=function(a){var d=e.twisterState.getRequestContext(a);b(d,a,d.childAsin,c.EVENT_TYPE_DROPDOWN_CHANGE)};
(function(){if(e.twisterJSInitData){if(!e.viewHandle)e.viewHandle=e.twisterControllerHandle.twisterView;e.twisterState=e.twisterControllerHandle.initTwisterState;var a=e.twisterState.getCurrentASIN(),a=e.twisterVariationsData.getDimensionValuesDisplayData(a);g("selected",a);g("hovered",a);o.init(f);n.on("dp:twister:prefetch",function(a,b){e.prefetch(a,b)})}})()}});p.when("A","twister-utils","twister-string-constants").register("twister-native-evdd",function(n,k,d){return function(a,c){var o=this,
j=n.$,f;o.dimType="evdd";o.isMasterDim=!1;o.updateView=function(a){var a=k.getDimStyleData(a.dimCombID,o.dimValuesDisplayData.length,o.dimOrder,o.twisterControllerHandle.twisterAvailabilityCache,o.displayConfigStylesData),b,c="";j(f).empty();for(var e=0,d=a.length;e<d;e++)if(rowData=a[e],b=rowData.style,b!=="invalid"||o.isMasterDim)b=b==="selected"?"selected":"",rowId="#native-"+o.dimName+"_"+e,b='<option id="'+rowId+'" value="'+e+'," '+b+">"+o.dimValuesDisplayData[e]+"</option>",c+=b;j(f).html(c)};
o.dimOrder=c[d.STRING_DIM_ORDER];o.dimName=c[d.STRING_DIM_NAME];o.dimValuesDisplayData=c[d.STRING_DIMENSION_VALUES_DATA];o.isMasterDim=!1;if(o.dimOrder==="0")o.isMasterDim=!0;o.dimNameDisplayString=c[d.STRING_DIMENSION_DISPLAY_STRING];o.displayConfigStylesData=c[d.STRING_DISPLAY_CONFIG_STYLES_DATA];o.twisterControllerHandle=c[d.STRING_TWISTER_CONTROLLER_HANDLE];f="#evdd-select-"+o.dimName;j(f).change(function(){var a=j(f).val(),a=parseInt(a.split(",")[0]);twisterController.handleClick({dimIndex:o.dimOrder,
dimValueIndex:a})})}});p.when("A","twister-utils","detail-page-state-controller","twister-string-constants").register("twister-state",function(n,k,d,a){return function(c,o,j){function f(b){if(b.mType===a.MTYPE_PARENT&&b.relatedContext)b=b.relatedContext;return b}function m(c,e,d){var h=s.extend(!0,{},c);h.mType=a.MTYPE_MASTER;h.id="m"+d[0];h.relatedContext=c;h.doNotAbort=!0;h.url=b(h,e,[]);h.uniqueID=g(h,[]);return h}function b(a,b,c){var e=h.twisterJSInitData.twisterUpdateURLInfo,d=e.immutableURLPrefix,
g=e.immutableParams,e=e.mutableParams,f=h.twisterJSInitData.contextMetaData[a.mType].mTypeSpecificURLParams,l={};keyItr=0;l=s.extend(!0,{},e,f);if(c!=null)for(var f=0,j=c.length;f<j;f++){var m=c[f];if(!g.hasOwnProperty(m.key)){var k=m.key,o=m.value;l[k]=o;m.isPersistent&&(e[k]=o)}}for(var n in l)l[n]!=null&&(d+="&"+n+"="+l[n]);d+="&asinList="+a.newAsin+"&isFlushing=2&dpEnvironment="+Twister.dpEnvironment+"&id="+a.id+"&mType="+a.mType;b&&(d+="&prefetchRequest=1");return d}function g(a,b){var c="",
e=a.mType,d=[],g=s.extend(!0,{},h.twisterJSInitData.twisterUpdateURLInfo.mutableParams);if(b!=null)for(var f=0,l=b.length;f<l;f++){var j=b[f];g[j.key]=j.value}for(var m in g)g.hasOwnProperty(m)&&d.push(m);d.sort();f=0;for(l=d.length;f<l;f++)j=d[f],j!=null&&g!=null&&(c+=j+"="+g[j]+"&");c+="mType="+e+"&id="+a.id;return c}function e(b){var c=b[a.STRING_DIM_INDEX],e=b[a.STRING_DIM_VALUE_INDEX],b=h.getCurrentDimCombID().split("_");b[c]=e===-1?"X":e;b=b.join("_");return h.twisterAvailabilityCache.gAsinToRender(b,
c)}function x(b,c){var e=h.getCurrentDimCombID().split("_"),d=e.length,g=h.twisterVariationsData.asinToDimIndexMapData[b],f=-1,l;if(g)g=g.slice(0);else{g=[];for(l=0;l<d;l++)g[l]="X"}c!==null&&c!==void 0&&(f=c[a.STRING_DIM_INDEX]);for(var j=0;j<d;j++)(l=h.dimensionSelectionData[j][a.STRING_IS_REQUIRED])&&j.toString()!==f&&g[j]!=e[j]&&(g[j]="X");parseInt(f)!==-1&&parseInt(c[a.STRING_DIM_VALUE_INDEX])===-1&&(g[f]="X");return g.join("_")}function l(b,c){for(var e=b.split("_"),d=0;d<h.dimensionSelectionData.length;d++)h.dimensionSelectionData[d][a.STRING_IS_REQUIRED]===
1&&c!==0&&(e[d]="X");return e.join("_")}var h=this,s=n.$;h.twisterJSInitData=c;h.twisterVariationsData=o;h.twisterAvailabilityCache=j;h.parentASIN="";h.currentASIN="";h.dimensionSelectionData={};h.unselectedDimCount=-1;h.master="";h.currentDimCombID="";h.preHoverClass="";h.hoveredReactId="";h.hoveredAsin="";h.hoveredDimCombID="";h.partialState="";h.previousPartialState="";h.previousReactId="";h.previousAsin="";h.setMaster=function(a){h.master=a};h.getMaster=function(){return h.master};h.getCurrentASIN=
function(){return h.currentASIN};h.setCurrentASIN=function(a){if(a)h.currentASIN=a};h.getCurrentDimCombID=function(){return h.currentDimCombID};h.setCurrentDimCombID=function(a){if(a)h.currentDimCombID=a};h.isDimSelected=function(b){return h.dimensionSelectionData[b][a.STRING_IS_SELECTED]===1};h.setPreHoverData=function(b){if(!h.useMS)h.preHoverClass=k.getAttachedClass(b,h.twisterVariationsData.dimensionsMap[b[a.STRING_DIM_INDEX]])};h.updateStateOnMouseOver=function(b,c){var d,g;b&&b[a.STRING_DIM_INDEX]===
"0"&&h.setMaster(b[a.STRING_DIM_VALUE_INDEX]);d=c&&c.childAsin||e(b);g=h.unselectedDimCount;if(d===""){if(g<=0)return;d=h.getCurrentASIN()}h.hoveredAsin=d;d=c&&c.newDimCombID||x(h.hoveredAsin,b);h.hoveredDimCombID=d;g=d.search(/X/)>=0?1:0;d=c&&c.reactID||l(d,g);h.hoveredReactId=d;h.setPreHoverData(b)};h.updateStateOnClick=function(b,c,d,g){var f=-1,j=-1;h.previousAsin=h.getCurrentASIN();c=c||g&&g.childAsin||e(b);b&&b[a.STRING_DIM_INDEX]&&b[a.STRING_DIM_INDEX]==="0"&&h.setMaster(b[a.STRING_DIM_VALUE_INDEX]);
f=h.unselectedDimCount;h.previousPartialState=f;if(c===""){if(f<=0)return!1;c=h.getCurrentASIN()}f=g&&g.newDimCombID||x(c,b);if(a.EVENT_TYPE_CLICK===d||a.EVENT_TYPE_DROPDOWN_CHANGE===d){if(typeof h.preHoverClass!=="undefined"&&(h.preHoverClass.indexOf(a.CLASS_FOR_SWATCH_UNAVAILABLE)!==-1||h.preHoverClass.indexOf(a.CLASS_FOR_DROPDOWN_UNAVAILABLE)!==-1)||b[a.STRING_DIM_VALUE_INDEX]===-1)for(var d=f.split("_"),m=0,k=h.dimensionSelectionData.length;m<k;m++)j=h.dimensionSelectionData[m],d[m]==="X"&&j[a.STRING_IS_SELECTED]===
1&&(j[a.STRING_IS_SELECTED]=0,h.unselectedDimCount++);d=b[a.STRING_DIM_INDEX];if(b!==null&&b!==void 0&&(d=h.dimensionSelectionData[d],d[a.STRING_IS_SELECTED]===0&&parseInt(b[a.STRING_DIM_VALUE_INDEX])!==-1&&(d[a.STRING_IS_SELECTED]=1,h.unselectedDimCount--,h.unselectedDimCount<0)))h.unselectedDimCount=0;j=h.unselectedDimCount;h.previousReactId=h.reactId}else j=f.search(/X/)>=0?1:0,h.previousReactId=h.hoveredReactId;b=g&&g.reactID||l(f,j);h.partialState=j;h.setCurrentASIN(c);h.setCurrentDimCombID(f);
h.reactId=b;DetailPage.StateController.setState("current_asin",c);return!0};h.getCurrentContext=function(){var a=h.getRequestContext();return f(a)};h.getHoverContext=function(a){a=h.getRequestContext(a);return f(a)};h.getRequestContext=function(c,d){var f=h.getCurrentASIN(),j=h.parentASIN,k;k=c&&e(c)||f;var o=h.getCurrentDimCombID(),n=x(k,c),r=o.search(/X/)>=0?1:0,p=n.search(/X/)>=0?a.MTYPE_PARTIAL:a.MTYPE_FULL;if(!r&&p===a.MTYPE_PARTIAL)p=a.MTYPE_PARENT;var r=p!==a.MTYPE_FULL?1:0,B=l(n,r),f={divMetaData:c,
currentAsin:f,newAsin:k,childAsin:k,currentDimCombID:o,newDimCombID:n,reactID:B,partialState:r,mType:p,id:B.search(/X/)>=0?B:k};if(h.useMS&&k){if(j=h.twisterVariationsData.asinToDimIndexMapData[k])f.relatedContext=m(f,d,j),f.doNotAbort=!0}else if(p===a.MTYPE_PARENT)k=s.extend(!0,{},f),k.mType=a.MTYPE_PARTIAL,k.relatedContext=f,k.url=b(k,d,[]),k.doNotAbort=!0,k.uniqueID=g(k,[]),f.relatedContext=k,f.id=j,f.newAsin=j,f.doNotAbort=!0;f.url=b(f,d,[]);f.uniqueID=g(f,[]);return f};h.getRequestContextForExternalTwisterUpdates=
function(c){var d=h.getCurrentASIN(),e=h.getCurrentDimCombID();e.search(/X/);var f=e.search(/X/)>=0?a.MTYPE_PARTIAL:a.MTYPE_FULL,j=f!==a.MTYPE_FULL?1:0,k=l(e,j),e={divMetaData:{},currentAsin:d,newAsin:d,childAsin:d,currentDimCombID:e,newDimCombID:e,reactID:k,partialState:j,mType:f,id:k.search(/X/)>=0?k:d};if(h.useMS&&d&&(d=h.twisterVariationsData.asinToDimIndexMapData[newAsin]))e.relatedContext=m(e,0,d),e.doNotAbort=!0;e.url=b(e,0,c);e.uniqueID=g(e,c);return e};(function(){var b=h.twisterJSInitData,
c=b.keysToPopulateDetailPageStateController,e;if(b){DetailPage.StateController=new d;for(var g=0,f=c.length;g<f;g++)e=c[g],DetailPage.StateController.setState(e,b[e]);DetailPage.StateController.setState("variation_display_labels",b[a.INIT_DATA_VARIATIONS_DISPLAY_LABELS]);DetailPage.StateController.setState("variation_label_order",b[a.INIT_DATA_DIMENSIONS_MAP]);h.currentASIN=b.current_asin;h.parentASIN=b.parent_asin;h.dimensionSelectionData=b.dimensionSelectionData;h.unselectedDimCount=b.unselectedDimCount;
h.currentDimCombID=b.currentDimCombID;h.reactId=b.reactId;h.storeID=b.storeId;h.productGroupID=b.productGroupId;h.useMS=b[a.STRING_USE_MS];h.useMS&&h.currentASIN&&h.twisterVariationsData.asinToDimIndexMapData[h.currentASIN]&&h.setMaster(h.twisterVariationsData.asinToDimIndexMapData[h.currentASIN][0])}})()}});p.when("A","twister-string-constants").register("twister-variations-data",function(n,k){return function(d){var a=this;a.twisterJSInitData=d;a.dimensionValuesDisplay={};a.getDimensionValuesDisplayData=
function(c){var d=a.dimensionValuesDisplay[c];!d&&c==a.deletedLandingAsinInfo.asin&&(d=a.deletedLandingAsinInfo.dimValues);return d};(function(){var c=a.twisterJSInitData;a.dimensionsMap=c[k.INIT_DATA_DIMENSIONS_MAP];a.dimensionValuesDisplay=c[k.INIT_DATA_DIMENSION_VALUES_DISPLAY_DATA];a.deletedLandingAsinInfo=c[k.INIT_DATA_DELETED_LANDING_ASIN_INFO];a.dimToAsinMapData=c[k.INIT_DATA_DIM_TO_ASIN_MAP];a.asinToDimIndexMapData=c[k.INIT_DATA_ASIN_TO_DIM_INDEX_MAP];a.dimensionsDisplayType=c[k.INIT_DATA_DIMENSIONS_DISPLAY_TYPE_MAP];
a.dimensionValuesData=c[k.STRING_DIMENSION_VALUES_DATA];a.displayConfigStylesData=c[k.STRING_DISPLAY_CONFIG_STYLES_DATA];a.useMS=c[k.STRING_USE_MS];a.hoverMS=c[k.STRING_HOVER_MS]})()}});p.when("A","twister-dimension-view-factory","twister-string-constants").register("twister-view",function(n,k,d){return function(a,c,o,j,f){var m=this,b=n.$;m.twisterControllerHandle=a;m.twisterJSInitData=o;m.twisterVariationsData=j;m.twisterAvailabilityCache=f;m.dimensionsMap={};m.dimensionDisplayMap={};m.dimensionDisplayTypeMap=
{};m.dimensionViewHandlersMap={};m.updateView=function(a,b,c){var f={},h,j=b.dimensionSelectionData;c===d.EVENT_TYPE_MOUSEOVER?(h=b.hoveredAsin,b=b.hoveredDimCombID):(h=b.getCurrentASIN(),b=b.getCurrentDimCombID());f[d.STRING_DIMENSION_VALUES_DATA]=m.twisterVariationsData.getDimensionValuesDisplayData(h);f[d.STRING_DIMENSION_DISPLAY_MAP]=m.dimensionDisplayMap;f[d.STRING_DIMENSIONS_MAP]=m.dimensionsMap;h={};var k={};h[d.STRING_EVENT_TYPE]=c;h[d.STRING_DIM_COMB_ID]=b;k[d.STRING_EVENT_DIV_METADATA]=
a;k[d.STRING_EVENT_DIM_INFO]=f;k[d.STRING_DIMENSION_SELECTION_DATA]=j;h[d.STRING_EVENT_DATA]=k;a=0;for(c=m.dimensionsMap.length;a<c;a++)m.dimensionViewHandlersMap[a].updateView(h)};(function(a){var c=m.twisterJSInitData;m.dimensionsMap=c[d.INIT_DATA_DIMENSIONS_MAP];m.dimensionDisplayMap=c[d.INIT_DATA_DIMENSIONS_DISPLAY];m.dimensionDisplayTypeMap=c[d.INIT_DATA_DIMENSIONS_DISPLAY_TYPE_MAP];for(var f=0,j=m.dimensionsMap.length;f<j;f++)c=k.getDimensionSubViewObject(m.twisterJSInitData,m.twisterVariationsData,
f.toString(10),m.twisterControllerHandle,a),m.dimensionViewHandlersMap[f]=c;b(d.CLASS_FOR_NON_JS_EVDD).hide();b(d.CLASS_FOR_NEW_TWISTER_EVDD).show()})(c)}});p.when("A","a-dropdown","twister-thumbnailModule","twister-utils","twister-string-constants").register("twister-dimension-views-dropdown",function(n,k,d,a,c){return function(o,j){function f(){var a=c.DROPDOWN_DIV_NAME+b.dimName,d={},g;d[c.STRING_DIM_INDEX]=b.dimOrder;g=function(a){b.twisterControllerHandle&&b.twisterControllerHandle.handleDropdownOnChange(a,
d)};p.when("A").execute(function(b){b.on(c.AUI_DROPDOWN_EVENT_PREFIX+a,g)})}function m(d){var f,j,h,k;j=c.ID_SELECTOR+b.dimName+c.CHAR_UNDERSCORE+c.INDEX_FOR_SELECT_OPTION;var m=c.NATIVE_DROPDOWN_DIV_PREFIX+c.DROPDOWN_DIV_NAME+b.dimName,o=g(m).val().split(",")[0],n=d[c.STRING_EVENT_TYPE],p=d[c.STRING_EVENT_DATA][c.STRING_DIMENSION_SELECTION_DATA],d=a.getDimStyleData(d.dimCombID,b.dimValuesDisplayData.length,b.dimOrder,b.twisterControllerHandle.twisterAvailabilityCache,b.displayConfigStylesData);p[b.dimOrder][c.STRING_IS_SELECTED]===
0&&o!==c.INDEX_FOR_SELECT_OPTION&&typeof b.AuiDropdownHandle!=="undefined"&&b.AuiDropdownHandle.getSelect(m).val("-1");(n===c.EVENT_TYPE_CLICK||n===c.EVENT_TYPE_DROPDOWN_CHANGE)&&p[b.dimOrder][c.STRING_IS_REQUIRED]===0&&p[b.dimOrder][c.STRING_IS_SELECTED]===1&&g(j).remove();o=0;for(p=d.length;o<p;o++)if(f=d[o],j=c.NATIVE_DROPDOWN_DIV_PREFIX+b.dimName+c.CHAR_UNDERSCORE+o,f=f[c.STRING_STYLE],h=g(j).get(0).className,f===c.CLASS_NAME_FOR_SELCTED_DROPDOWN_OPTION&&(k=g(j).attr("value"),g(m).val()!==k&&
b.AuiDropdownHandle.getSelect(m).val(k)),h!==f)try{h={},h[c.STRING_CSS_CLASS]=f,h[c.STRING_NATIVE_CSS_CLASS]=f,b.AuiDropdownHandle.updateOption(j,h)}catch(v){}b.isTablet&&(n===c.EVENT_TYPE_CLICK||n===c.EVENT_TYPE_DROPDOWN_CHANGE)&&b.thumbnailHandle&&b.thumbnailHandle.update(b.dimName)}var b=this,g=n.$;b.dimType="dropdown";b.AuiDropdownHandle=k;b.thumbnailHandle=d;b.updateView=function(a){a[c.STRING_EVENT_TYPE]===c.EVENT_TYPE_MOUSEOUT?m(a):(a[c.STRING_EVENT_TYPE]===c.EVENT_TYPE_CLICK||a[c.STRING_EVENT_TYPE]===
c.EVENT_TYPE_DROPDOWN_CHANGE)&&m(a)};(function(){var d;b.dimOrder=j[c.STRING_DIM_ORDER];b.dimName=j[c.STRING_DIM_NAME];b.dimensionsMap=j[c.STRING_DIMENSIONS_MAP];b.dimNameDisplayString=j[c.STRING_DIMENSION_DISPLAY_STRING];b.dimValuesDisplayData=j[c.STRING_DIMENSION_VALUES_DATA];b.twisterControllerHandle=j[c.STRING_TWISTER_CONTROLLER_HANDLE];b.displayConfigStylesData=j[c.STRING_DISPLAY_CONFIG_STYLES_DATA];b.initialTwisterState=j[c.STRING_TWISTER_INITIAL_STATE_KEY];b.isTablet=o.isTablet;d=b.initialTwisterState.getCurrentDimCombID();
b.dimStyleData=a.getDimStyleData(d,b.dimValuesDisplayData.length,b.dimOrder,b.twisterControllerHandle.twisterAvailabilityCache,b.displayConfigStylesData);f();if(b.isTablet)for(var g=0,k=b.dimensionsMap.length;g<k;g++)d=b.dimensionsMap[g],b.thumbnailHandle.attach(d),b.thumbnailHandle.preloadAllThumbnails(d)})()}});p.when("A").register("twister-dimension-views-singleton",function(){return function(){this.updateView=function(){}}});p.when("A","twister-dimension-views-unavailablePopover","twister-utils",
"twister-string-constants").register("twister-dimension-views-swatch",function(n,k,d,a){return function(c,o){function j(a,c){DetailPage.StateController.getState();c?m("#variation_"+f.dimName+" .selection").html(a).addClass("hover"):m("#variation_"+f.dimName+" .selection").html(a).removeClass("hover")}var f=this,m=n.$;f.dimType="swatch";f.twisterJSInitData=c;f.newPrefetchWeblab=!1;f.updateView=function(b){if(b[a.STRING_EVENT_TYPE]===a.EVENT_TYPE_MOUSEOVER){var c,e,o,l,h,n=b[a.STRING_EVENT_DATA],p=
n[a.STRING_EVENT_DIM_INFO][a.STRING_DIMENSION_VALUES_DATA][f.dimOrder],n=n[a.STRING_EVENT_DIV_METADATA];if(f.dimOrder==n[a.STRING_DIM_INDEX]){var z=m(a.ID_SELECTOR+f.dimName+a.CHAR_UNDERSCORE+n[a.STRING_DIM_VALUE_INDEX]).get(0).className,t=d.getDimStyleData(b.dimCombID,f.dimValuesDisplayData.length,f.dimOrder,f.twisterControllerHandle.twisterAvailabilityCache,f.displayConfigStylesData);c=f.twisterJSInitData;e={};e.hidePopover=c.hidePopover;e.unavailablePopOverStringValue=c.unavailablePopOverStringValue;
e.showDimSecondUnavailablePopover=c.showDimSecondUnavailablePopover;parseInt(n[a.STRING_DIM_INDEX])===parseInt(f.dimOrder)&&z===a.CLASS_FOR_SWATCH_UNAVAILABLE&&!f.twisterJSInitData[a.STRING_HIDE_POPOVER]&&k.triggerPopover(b,e);j(p,!0);b=0;for(p=t.length;b<p;b++)if(c=t[b],c=c[a.STRING_STYLE],e=a.ID_SELECTOR+f.dimName+a.CHAR_UNDERSCORE+b,o=m(e).get(0).className,l=o===a.CLASS_FOR_SWATCH_SELECT?!0:!1,h=n[a.STRING_DIM_INDEX]===f.dimOrder&&n[a.STRING_DIM_VALUE_INDEX]===b?!0:!1,!l&&(z!==a.CLASS_FOR_SWATCH_UNAVAILABLE||
h))c===a.CLASS_FOR_SWATCH_SELECT&&(c=o===a.CLASS_FOR_SWATCH_UNAVAILABLE?a.CLASS_FOR_SWATCH_UNAVAILABLE_HOVER:a.CLASS_FOR_SWATCH_HOVER,o=m(e+"_price"),o.length&&o.removeClass().addClass("a-color-price")),m(e).removeClass().addClass(c)}}else{eventData=b[a.STRING_EVENT_DATA];eventDimInfo=eventData[a.STRING_EVENT_DIM_INFO];dimensionValueDisplay=eventDimInfo[a.STRING_DIMENSION_VALUES_DATA][f.dimOrder];divMetaData=eventData[a.STRING_EVENT_DIV_METADATA];dimensionSelectionData=eventData[a.STRING_DIMENSION_SELECTION_DATA];
dimCombID=b.dimCombID;dimDataForThisInteraction=d.getDimStyleData(dimCombID,f.dimValuesDisplayData.length,f.dimOrder,f.twisterControllerHandle.twisterAvailabilityCache,f.displayConfigStylesData);j(dimensionValueDisplay,!1);n=0;for(z=dimDataForThisInteraction.length;n<z;n++){t=dimDataForThisInteraction[n];t=t[a.STRING_STYLE];if(dimensionSelectionData[f.dimOrder][a.STRING_IS_SELECTED]===0&&t===a.CLASS_FOR_SWATCH_SELECT)t=a.CLASS_FOR_SWATCH_AVAILABLE;b=a.ID_SELECTOR+f.dimName+a.CHAR_UNDERSCORE+n;p=m(b).get(0).className;
if(p!=t)try{m(b).removeClass().addClass(t)}catch(u){}p=m(b+"_price");b="a-color-secondary";t===a.CLASS_FOR_SWATCH_SELECT&&(b="a-color-price");p.length&&p.removeClass().addClass(b)}}};f.newPrefetchWeblab=f.twisterJSInitData.newPrefetchWeblab;f.dimOrder=o[a.STRING_DIM_ORDER];f.dimName=o[a.STRING_DIM_NAME];f.dimensionsMap=o[a.STRING_DIMENSIONS_MAP];f.dimNameDisplayString=o[a.STRING_DIMENSION_DISPLAY_STRING];f.dimValuesDisplayData=o[a.STRING_DIMENSION_VALUES_DATA];f.displayConfigStylesData=o[a.STRING_DISPLAY_CONFIG_STYLES_DATA];
f.twisterControllerHandle=o[a.STRING_TWISTER_CONTROLLER_HANDLE];f.initialTwisterState=o[a.STRING_TWISTER_INITIAL_STATE_KEY];currDimCombID=f.initialTwisterState.getCurrentDimCombID();f.dimData=d.getDimStyleData(currDimCombID,f.dimValuesDisplayData.length,f.dimOrder,f.twisterControllerHandle.twisterAvailabilityCache,f.displayConfigStylesData);(function(){n.declarative(a.AUI_EVENT_FOR_SWATCHTHUMB,[a.EVENT_TYPE_CLICK,a.EVENT_TYPE_MOUSEENTER,a.EVENT_TYPE_MOUSELEAVE,a.EVENT_TYPE_MOUSEDOWN,a.EVENT_TYPE_TOUCHSTART],
function(b){if(b.type===a.EVENT_TYPE_CLICK)f.twisterControllerHandle&&f.twisterControllerHandle.handleClick(b.data);else if(b.type===a.EVENT_TYPE_MOUSEENTER)f.twisterControllerHandle&&f.twisterControllerHandle.handleMouseOver(b.data);else if(b.type===a.EVENT_TYPE_MOUSELEAVE)f.twisterControllerHandle&&f.twisterControllerHandle.handleMouseOut(b.data,b.data[a.STRING_DIM_INDEX],b.data[a.STRING_DIM_VALUE_INDEX]);else if(f.newPrefetchWeblab&&(b.type===a.EVENT_TYPE_MOUSEDOWN||b.type===a.EVENT_TYPE_TOUCHSTART))f.twisterControllerHandle&&
f.twisterControllerHandle.handleClickPrediction(b.data,f.newPrefetchWeblab==="T1"?a.YES:a.NO)})})();(function(){for(var b,c,d,j=0,k=f.dimData.length;j<k;j++)b=f.dimData[j],c=a.ID_SELECTOR+f.dimName+a.CHAR_UNDERSCORE+j,d=m(c).get(0).className,b=b[a.STRING_STYLE],d!==b&&m(c).removeClass().addClass(b)})()}});p.when("A","twister-utils","twister-string-constants","scroll-event-handler","a-popover").register("twister-vodd",function(n,k,d,a,c){return function(o,j){function f(b){var c=b.popover.$trigger,
d={popover:b};b.popover.$container.hasClass(Q)||b.popover.$container.addClass(Q);c.trigger(ka,d);B||(C=A.closest(".a-popover-inner"),B=new a(la,C,l));b=A.find("tr."+J);C&&C.length&&C.scrollTop(b.get(0).offsetTop)}function m(a){a.popover.$trigger.trigger(ma,{popover:a})}function b(){var a={closeButton:!1,position:"triggerBottom",name:F,activate:"onclick"},b=A.find("tr");b.length&&b.length>K&&r.extend(a,{height:na});E=c.create(q.dimensionButton,a);n.on("a:popover:afterShow:"+F,f);n.on("a:popover:afterHide:"+
F,m);r(document).bind(d.EVENT_TYPE_CLICK+" "+d.EVENT_TYPE_TOUCHEND,function(){E.hide()})}function g(a){var b=function(){r.each(a,function(a,b){D.splice(r.inArray(b,D),1)})},c=R+a.join(oa);n.ajax(c,{chunk:function(a){a&&r.each(a,function(a,b){q.initialTwisterState.asinDimensionValuesInfo[b.asin]=b});p(a)},error:b,abort:b,timeout:pa})}function e(a){var b=q.initialTwisterState.getCurrentDimCombID(),c=parseInt(q.dimensionOrder),d=[],e=[];for(i=0;i<a.length;i++){d.length===qa&&(g(d),d=[]);var f=h(a[i].id);
combination=k.reconstructCombinationWithDimValue(b,c,f);asin=S[combination];asin&&(r.inArray(asin,D)>-1||(d.push(asin),D.push(asin)),q.initialTwisterState.asinDimensionValuesInfo[asin]&&e.push(q.initialTwisterState.asinDimensionValuesInfo[asin]))}d.length>0&&g(d);e.length>0&&p(e)}function p(a){a&&r.each(a,function(a,b){var c=T[b.asin][parseInt(q.dimensionOrder)],c=A.find(L+c);r(c).find("."+M).hide();b&&(b.isAvailable?b.hasPrimeBadge&&r(c).find("."+U+" i").removeClass(V):b.availability?r(c).find("."+
W).html(b.availability).show():r(c).find("."+X).show(),b.price&&r(c).find("."+Y).text(b.price).show(),b.ppu&&r(c).find("."+Z).text(b.ppu).show(),b.isSnsEligible&&r(c).find("."+$).show(),r(c).find("."+aa).show())})}function l(a){a=k.getVisibleTableRows(a.currentTarget,A.find("tr"));e(a)}function h(a){if(!a)return-1;a=a.split(d.CHAR_UNDERSCORE);return a[a.length-1]}function s(a){return{dimIndex:q.dimensionOrder,dimValueIndex:h(a.id),dimDisplayType:d.TWISTER_DIMENSION_VIEW_VODD}}function y(a){var b=
s(a.currentTarget),c=q.initialTwisterState.getCurrentDimCombID(),c=k.reconstructCombinationWithDimValue(c,b.dimIndex,b.dimValueIndex);q.twisterControllerHandle&&q.twisterControllerHandle.handleClick(b);c=q.twisterControllerHandle.twisterAvailabilityCache.isDimCombinationAvailable(c);b={dimensionOrder:q.dimensionOrder,dimensionValueIndex:b.dimValueIndex,isSelectedDimValueAvailable:c};r(a.currentTarget).trigger(ra,b)}function z(a){r(a.currentTarget).removeClass(G);y(a)}function t(a){r(a.currentTarget).addClass(G);
q.twisterControllerHandle&&(a=s(a.currentTarget),q.twisterControllerHandle.handleMouseOver(a))}function u(a){r(a.currentTarget).removeClass(G);if(q.twisterControllerHandle){var b=s(a.currentTarget),a=h(a.currentTarget.id);q.twisterControllerHandle.handleMouseOut(b,q.dimensionOrder,a)}}function v(a){H.sort(function(b,c){var e=h(b.id),f=h(c.id);if(a[e][d.STRING_STYLE]!==a[f][d.STRING_STYLE])if(a[e][d.STRING_STYLE]===d.CLASS_FOR_VODD_UNAVAILABLE)return 1;else if(a[f][d.STRING_STYLE]===d.CLASS_FOR_VODD_UNAVAILABLE)return-1;
return q.dimValuesDisplayData[e]<q.dimValuesDisplayData[f]?-1:1});H.detach().appendTo(A)}function w(a){a=k.getDimStyleData(a,q.dimValuesDisplayData.length,q.dimensionOrder,q.twisterControllerHandle.twisterAvailabilityCache,q.displayConfigStylesData);v(a);var b;b=q.initialTwisterState.getCurrentDimCombID().split("_");var c=[];for(i=0;i<b.length;i++)if(parseInt(q.dimensionOrder)!==i){var f=O[i].toLowerCase();c.push(f+": "+N[i][b[i]])}b=c.join(", ");c=null;for(f=0;f<a.length;f++){var g=a[f],h=A.find(L+
f);if(g[d.STRING_STYLE]===d.CLASS_FOR_VODD_SELECT){if(c=h,h.addClass(J),ba.text(q.dimValuesDisplayData[f]),I.length){var j=h.find("."+sa);j.length>0?I.prop("src",j.prop("src")).show():I.hide()}}else h.removeClass(J);h.removeClass(G);q.dimensionsMap.length>1&&(j=b,g[d.STRING_STYLE]!==d.CLASS_FOR_VODD_UNAVAILABLE?(r(h).removeClass(ca),r(h).find("."+da).hide(),r(h).find("."+M).show(),r(h).find("."+ea).removeClass(fa)):(r(h).addClass(ca),r(h).find("."+da).show(),r(h).find("."+M).hide(),r(h).find("."+
ta).text(j),r(h).find("."+ea).addClass(fa)),r(h).find("."+W).hide(),r(h).find("."+X).hide(),r(h).find("."+$).hide(),r(h).find("."+Y).hide(),r(h).find("."+Z).hide(),r(h).find("."+aa).hide(),r(h).find("."+U+" i").addClass(V))}b=c;a=A.find("tr");b=a.index(b);c=a.length-K;b>c&&(b=c,b<0&&(b=0));a=a.slice(b,b+K);e(a)}var q=this,r=n.$,E,B,N,O,C,H,A,I,ba,ga,ha,ia,ja,L,F,V="hidden",J="vodd-row-selected",G="vodd-row-hovered",sa="vodd-dimension-img",ca="vodd-dimension-unavailable",aa="lazy-loaded-data",M="vodd-loading-placeholder",
Q="vodd-modified-popover",U="prime",Y="price",Z="ppu",$="sns",ta="variation-combination-text",da="unavailable-text",X="outofstock-text",W="availability-message",pa=2E4,la=200,oa=",",R,K=6,qa=6,na="410",fa="a-color-tertiary",ea="dimension-display-text",S,T,D,ka="TwisterVODD.showPopup",ma="TwisterVODD.hidePopup",ra="TwisterVODD.dimensionRowClick";q.updateView=function(a){a[d.STRING_EVENT_TYPE]===d.EVENT_TYPE_CLICK&&(E&&E.hide(),w(a[d.STRING_DIM_COMB_ID]))};q.showVariationSelection=function(){q.dimensionButton.trigger("click")};
q.dimensionName=j[d.STRING_DIM_NAME];q.dimensionOrder=j[d.STRING_DIM_ORDER];q.twisterControllerHandle=j[d.STRING_TWISTER_CONTROLLER_HANDLE];q.dimValuesDisplayData=j[d.STRING_DIMENSION_VALUES_DATA];q.displayConfigStylesData=j[d.STRING_DISPLAY_CONFIG_STYLES_DATA];q.initialTwisterState=j[d.STRING_TWISTER_INITIAL_STATE_KEY];q.dimensionsMap=j[d.STRING_DIMENSIONS_MAP];N=q.initialTwisterState.twisterAvailabilityCache.twisterVariationsData.dimensionValuesData;O=q.twisterControllerHandle.twisterJSInitData.dimensionsDisplay;
S=q.twisterControllerHandle.twisterJSInitData.dimToAsinMapData;T=q.twisterControllerHandle.twisterJSInitData.asinToDimIndexMapData;if(!q.initialTwisterState.asinDimensionValuesInfo)q.initialTwisterState.asinDimensionValuesInfo={};D=[];ia=d.ID_SELECTOR+"vodd-button-"+q.dimensionName;ga=d.ID_SELECTOR+"vodd-button-label-"+q.dimensionName;ja=d.ID_SELECTOR+"vodd-table-"+q.dimensionName;ha=d.ID_SELECTOR+"dimension-button-img-"+q.dimensionName;L=d.ID_SELECTOR+q.dimensionName+d.CHAR_UNDERSCORE;F="vodd-popover-"+
q.dimensionName;R="/gp/twister/variationinfo?vs=1"+(q.twisterControllerHandle.twisterJSInitData.ajaxUrlParams?q.twisterControllerHandle.twisterJSInitData.ajaxUrlParams:"")+"&asinList=";q.dimensionButton=r(ia);A=r(ja);H=A.find("tr");I=r(ha);ba=r(ga);(function(){b();H.each(function(a,b){r(b).bind(d.EVENT_TYPE_CLICK,y).bind(d.EVENT_TYPE_MOUSEENTER,t).bind(d.EVENT_TYPE_TOUCHSTART,t).bind(d.EVENT_TYPE_MOUSELEAVE,u).bind(d.EVENT_TYPE_TOUCHEND,z)})})();w(q.initialTwisterState.getCurrentDimCombID())}});p.when("A",
"twister-string-constants").register("twister-dimension-views-unavailablePopover",function(n,k){function d(a,d,j,f,m){for(var b="",g=0;g<d.length;g++)g!==a&&d[g][k.STRING_IS_SELECTED]===1&&(b=b?b+", "+j[g]:j[g]);b="<strong>"+b+"</strong>";return m?f+"&nbsp;"+b:b+"&nbsp;"+f}var a=n.$;return{triggerPopover:function(c,o){var j=c[k.STRING_EVENT_DATA],f=j[k.STRING_EVENT_DIM_INFO],m=f[k.STRING_DIMENSIONS_MAP],b=j[k.STRING_EVENT_DIV_METADATA],g=b[k.STRING_DIM_INDEX],b=b[k.STRING_DIM_VALUE_INDEX];if(!(typeof touchDeviceDetected!==
"undefined"&&touchDeviceDetected)){j=d(g,j[k.STRING_DIMENSION_SELECTION_DATA],f[k.STRING_DIMENSION_DISPLAY_MAP],o[k.STRING_UNAVAILABLE_POPOVER_STRING_VALUE],o[k.STRING_SHOW_DIM_SECOND_UNAVAILABLE_POPOVER]);m=m[g]+"_"+b;g="ap_body";if(a.browser.msie||navigator.userAgent.match(/Trident/))g+=" styleIE";f=a("#"+m);a.AmazonPopover.displayPopover({modal:!1,showOnHover:!0,draggable:!1,showCloseButton:!1,hoverShowDelay:50,hoverHideDelay:0,width:null,closeEventInclude:"CLICK_TRIGGER",literalContent:j,skin:"<div id='twisterPopover' class='ap_popover twisterPopoverSkin a-text-color-white'><div class='ap_header'></div><div class='"+
g+"'><div class='ap_content'></div></div><div class='ap_footer'><div class='ap_middle'></div></div></div>",location:"top",locationElement:Twister.$("#"+m),align:"center",attached:!1,group:"TwisterPopover",locationOffset:[2,22],paddingLeft:5,paddingRight:5,paddingBottom:5,onShow:function(){var b=a("#twisterPopover").width();a.browser.msie?a("#twisterPopover").find(".ap_footer").find(".ap_middle").addClass("twisterPopoverArrow").css({top:"16px",width:b-68+"px"}):a("#twisterPopover").find(".ap_footer").find(".ap_middle").addClass("twisterPopoverArrow").css({width:b-
68+"px"})}},f);a("#"+m).trigger("mouseover.amzPopover")}}}});p.when("A").register("twister-availabilty-cache",function(){return function(n){function k(c,d){var j=c+":"+d,f=c.split("_"),m=f.length,b=-1,g,e;if(a.asinToRenderCache[j]!==null&&a.asinToRenderCache[j]!==void 0)return a.asinToRenderCache[j];a.intermediateAsinToRenderCache[j]=!0;for(j=0;j<m;j++)if(f[j]==="X"){b=j;break}if(b===-1)return g=null,a.twisterVariationsData.dimToAsinMapData[c]!=null&&(g=a.twisterVariationsData.dimToAsinMapData[c]),
g;for(var m=a.twisterVariationsData.dimensionValuesData[b].length,n=0;n<m;n++)if(f[b]=n,j=f.join("_"),e=j+":"+d,!a.intermediateAsinToRenderCache.hasOwnProperty(e)&&(g=k(j,d),g!==null&&g!==void 0))break;return g}function d(c){for(var d in a.intermediateAsinToRenderCache)a.asinToRenderCache[d]=c,delete a.intermediateAsinToRenderCache[d];a.intermediateAsinToRenderCache={}}var a=this;a.twisterVariationsData=n;a.dimAvailabilityCache={};a.asinToRenderCache={};a.intermediateAsinToRenderCache={};a.isUpdateCacheReq=
!1;a.isDimCombinationAvailable=function(c){var d=c.split("_"),j,f=-1,k,b;j=d.length;if(a.dimAvailabilityCache[c]!==null&&a.dimAvailabilityCache[c]!==void 0)return a.dimAvailabilityCache[c];for(b=0;b<j;b++)if(d[b]==="X"){f=b;break}if(f===-1)return k=!1,a.twisterVariationsData.dimToAsinMapData[c]!==null&&a.twisterVariationsData.dimToAsinMapData[c]!==void 0&&(k=!0),a.dimAvailabilityCache[c]=k;j=a.twisterVariationsData.dimensionValuesData[f].length;for(var g=0;g<j;g++)if(d[f]=g,b=d.join("_"),a.dimAvailabilityCache[b]!==
null&&a.dimAvailabilityCache[b]!==void 0?k=a.dimAvailabilityCache[b]:(k=a.isDimCombinationAvailable(b),a.dimAvailabilityCache[b]=k),k)break;return a.dimAvailabilityCache[c]=k};a.gAsinToRender=function(c,o){var j=null,f,m,b=c.split("_"),g=b.length,e=c+":"+o;if(a.asinToRenderCache[e]!==null&&a.asinToRenderCache[e]!==void 0){if(a.isUpdateCacheReq)d(a.asinToRenderCache[e]),a.isUpdateCacheReq=!1;return a.asinToRenderCache[e]}if(!a.isUpdateCacheReq)a.isUpdateCacheReq=!0;a.intermediateAsinToRenderCache.hasOwnProperty(e)||
(j=k(c,o));if(j!==null&&j!==void 0){if(a.isUpdateCacheReq)d(j),a.isUpdateCacheReq=!1;return j}for(e=0;e<g;e++)if(!(e==o||b[e]=="X"))if(j=b[e],b[e]="X",f=b.join("_"),m=f+":"+o,b[e]=j,!a.intermediateAsinToRenderCache.hasOwnProperty(m)&&(j=k(f,o),j!==null&&j!==void 0)){if(a.isUpdateCacheReq)d(j),a.isUpdateCacheReq=!1;return j}j=-1;for(e=0;e<g;e++)if(b[e]!=="X"&&e!==o){j=e;break}if(j===-1)return"";b[j]="X";f=b.join("_");return a.gAsinToRender(f,o)}}});p.when("A","twister-string-constants").register("twister-utils",
function(n,k){var d=n.$;return{isSwatchSelected:function(a,c){var d=n.$("#"+c.dimensionsMap[a[k.STRING_DIM_INDEX]]+"_"+a[k.STRING_DIM_VALUE_INDEX]).attr("class");(d===k.CLASS_FOR_SWATCH_UNAVAILABLE_HOVER||d===k.CLASS_FOR_SWATCH_UNAVAILABLE)&&n.$("#twisterPopover.twisterPopoverSkin").hide();return d===k.CLASS_FOR_SWATCH_SELECT},getAttachedClass:function(a,c){var d=a[k.STRING_DIM_VALUE_INDEX],j="#"+c+"_"+d;n.$(j).is("li")||(j=k.NATIVE_DROPDOWN_DIV_PREFIX+c+"_"+d);return n.$(j).attr("class")},htmlUnescape:function(a){return String(a).replace(/&quot;/g,
'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},getDimStyleData:function(a,c,d,j,f){for(var a=a.split("_"),m=[],b=a.slice(0),g,e,n=0;n<c;n++)e={},a[d]===n.toString()?g=k.STYLE_CLASS_TYPE_FOR_SELECTED:(b[d]=n,g=b.join("_"),g=(g=j.isDimCombinationAvailable(g))?k.STYLE_CLASS_TYPE_FOR_AVAILABLE:k.STYLE_CLASS_TYPE_FOR_INAVLID),g=f[g],e.style=g,m[n]=e;return m},getVisibleTableRows:function(a,c){var k=[],j=a.getBoundingClientRect();c||(c=d(a).find("tr"));if(c.length)for(var f=
0;f<c.length;f++){var m=c.get(f),b=m.getBoundingClientRect(),g=(b.bottom-b.top)/2,e=j.bottom+g;j.top-g<b.top&&e>b.bottom&&k.push(m);if(j.bottom<b.top)break}return k},reconstructCombinationWithDimValue:function(a,c,d){if(!a)return a;var j=a.split(k.CHAR_UNDERSCORE);if(c>=j.length)return a;j[c]=d;return j.join(k.CHAR_UNDERSCORE)}}});p.when("A").register("twister-string-constants",function(){return{YES:"YES",NO:"NO",MTYPE_PARENT:"parent",MTYPE_PARTIAL:"partial",MTYPE_FULL:"full",MTYPE_MASTER:"master",
AUI_DROPDOWN_EVENT_PREFIX:"a:dropdown:selected:",AUI_EVENT_FOR_SWATCHTHUMB:"swatchthumb-action",CHAR_SEMICOLON:":",CHAR_UNDERSCORE:"_",CLASS_FOR_DROPDOWN_UNAVAILABLE:"dropdownUnavailable",CLASS_FOR_NEW_TWISTER_EVDD:"#newTwisterEVDD",CLASS_FOR_NON_JS_EVDD:"#nonJSEVDD",CLASS_FOR_SWATCH_AVAILABLE:"swatchAvailable",CLASS_FOR_SWATCH_HOVER:"swatchHover",CLASS_FOR_SWATCH_SELECT:"swatchSelect",CLASS_FOR_SWATCH_UNAVAILABLE:"swatchUnavailable",CLASS_FOR_SWATCH_UNAVAILABLE_HOVER:"swatchUnavailableHover",CLASS_FOR_VODD_AVAILABLE:"voddAvailable",
CLASS_FOR_VODD_HOVER:"voddHover",CLASS_FOR_VODD_SELECT:"voddSelect",CLASS_FOR_VODD_UNAVAILABLE:"voddUnavailable",CLASS_NAME_FOR_SELCTED_DROPDOWN_OPTION:"dropdownSelect",DROPDOWN_DIV_NAME:"dropdown_selected_",EVENT_TYPE_DROPDOWN_CHANGE:"dropdownChange",EVENT_TYPE_CLICK:"click",EVENT_TYPE_MOUSEENTER:"mouseenter",EVENT_TYPE_MOUSELEAVE:"mouseleave",EVENT_TYPE_MOUSEDOWN:"mousedown",EVENT_TYPE_MOUSEOUT:"mouseOut",EVENT_TYPE_MOUSEOVER:"mouseOver",EVENT_TYPE_TOUCHSTART:"touchstart",EVENT_TYPE_TOUCHEND:"touchend",
ID_SELECTOR:"#",INDEX_FOR_SELECT_OPTION:"-1",INIT_DATA_ASIN_TO_DIM_INDEX_MAP:"asinToDimIndexMapData",INIT_DATA_DELETED_LANDING_ASIN_INFO:"deletedLandingAsinInfo",INIT_DATA_DIM_TO_ASIN_MAP:"dimToAsinMapData",INIT_DATA_DIMENSION_VALUES_DISPLAY_DATA:"dimensionValuesDisplayData",INIT_DATA_DIMENSIONS_DISPLAY:"dimensionsDisplay",INIT_DATA_DIMENSIONS_DISPLAY_TYPE_MAP:"dimensionsDisplayType",INIT_DATA_DIMENSIONS_MAP:"dimensions",INIT_DATA_VARIATIONS_DISPLAY_LABELS:"variationDisplayLabels",NATIVE_DROPDOWN_DIV_PREFIX:"#native_",
STRING_CSS_CLASS:"css_class",STRING_DIM_COMB_ID:"dimCombID",STRING_DIM_DATA:"dimData",STRING_DIM_INDEX:"dimIndex",STRING_DIM_NAME:"dimName",STRING_DIM_ORDER:"dimOrder",STRING_DIM_VALUE_INDEX:"dimValueIndex",STRING_DIMENSION_DISPLAY_MAP:"dimensionDisplayMap",STRING_DIMENSION_DISPLAY_STRING:"dimensionDisplayString",STRING_DIMENSION_SELECTION_DATA:"dimensionSelectionData",STRING_DIMENSION_VALUES_DATA:"dimensionValuesData",STRING_DIMENSION_VALUES_DATA_GLOBAL:"dimensionValuesDataGlobal",STRING_DIMENSIONS_MAP:"dimensionsMap",
STRING_DISPLAY_CONFIG_STYLES_DATA:"displayConfigStylesData",STRING_EVENT_DATA:"eventData",STRING_EVENT_DIM_DATA:"dimData",STRING_EVENT_DIM_INFO:"eventDimInfo",STRING_EVENT_DIV_METADATA:"divMetaData",STRING_EVENT_POPOVER_DATA:"popoverData",STRING_EVENT_TYPE:"eventType",STRING_HIDE_POPOVER:"hidePopover",STRING_HOVER_MS:"hoverMS",STRING_IS_REQUIRED:"isRequired",STRING_IS_SELECTED:"isSelected",STRING_NATIVE_CSS_CLASS:"native_css_class",STRING_SHOW_DIM_SECOND_UNAVAILABLE_POPOVER:"showDimSecondUnavailablePopover",
STRING_STYLE:"style",STRING_TWISTER_CONTROLLER_HANDLE:"twisterControllerHandle",STRING_TWISTER_INITIAL_STATE_KEY:"twisterInitialState",STRING_UNAVAILABLE_POPOVER_STRING_VALUE:"unavailablePopOverStringValue",STRING_USE_MS:"useMS",STYLE_CLASS_TYPE_FOR_AVAILABLE:"available",STYLE_CLASS_TYPE_FOR_INAVLID:"invalid",STYLE_CLASS_TYPE_FOR_SELECTED:"selected",TWISTER_DIMENSION_VIEW_DROPDOWN:"dropdown",TWISTER_DIMENSION_VIEW_EVDD:"etdd",TWISTER_DIMENSION_VIEW_SINGLETON:"singleton",TWISTER_DIMENSION_VIEW_SWATCH:"swatch",
TWISTER_DIMENSION_VIEW_VODD:"vodd"}});p.when("A").register("twister-thumbnailModule",function(n){var k=n.$;return{attach:function(d){var a=k("#dropdown_selected_thumbnail_"+d),d=k("#dropdown_selected_"+d+" .a-button-inner");a.length>0&&d.length>0&&(a.detach(),d.append(a),a.attr("src")!=="#"&&a.show())},update:function(d){var a=k("#native_dropdown_selected_"+d).val().split(",")[0];typeof a!=="undefined"&&a!=="-1"&&(a=k("#native_"+d+"_"+a),a=a.length>0?a.attr("data-a-image-source"):"",d=k("#dropdown_selected_thumbnail_"+
d),d.length>0&&a!==""?(d.attr("src",a),d.show()):d.hide())},preloadAllThumbnails:function(d){if(d){var a=k("#native_dropdown_selected_"+d+" option"),d=k("#dropdown_selected_"+d).attr("data-a-class");a&&d&&d.indexOf("twister-image-dropdown")!==-1&&k.each(a,function(a,d){var j=d.getAttribute("data-a-image-source");if(j)(new Image).src=j})}}}});p.when("A").register("scroll-event-handler",function(n){return function(k,d,a){if(d){var c=n.$,o,j=(new Date).getTime();c(d).bind("scroll",function(c){var d=
Date.now();o&&d-j<k&&clearTimeout(o);j=d;o=setTimeout(function(){a(c)},k)})}}})})})(function(){var p=window.AmazonUIPageJS||P,n=p.attributeErrors;return n?n("DetailPageTwisterAssets"):p}());